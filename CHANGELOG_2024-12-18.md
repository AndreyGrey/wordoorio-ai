# –ò–∑–º–µ–Ω–µ–Ω–∏—è 18 –¥–µ–∫–∞–±—Ä—è 2024

## üêõ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –≤ UI
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–∫–∞–∑—ã–≤–∞–ª –ø–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å–ª–æ–≤–∞—Ä—è –≤–º–µ—Å—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ –æ—Ç –∞–≥–µ–Ω—Ç–∞
- `amplify` –ø–æ–∫–∞–∑—ã–≤–∞–ª "—Ä–∞—Å—à–∏—Ä—è—Ç—å" –≤–º–µ—Å—Ç–æ "—É—Å–∏–ª–∏–≤–∞—Ç—å"
- `scrutinize` –ø–æ–∫–∞–∑—ã–≤–∞–ª "—Ç—â–∞—Ç–µ–ª—å–Ω–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å" –≤–º–µ—Å—Ç–æ "–∏–∑—É—á–∞—Ç—å"

**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤ `HighlightCard.js:getMainTranslation()`
```javascript
// –ë—ã–ª–æ: —Å–ª–æ–≤–∞—Ä—å ‚Üí –ø–µ—Ä–µ–≤–æ–¥ –∞–≥–µ–Ω—Ç–∞
// –°—Ç–∞–ª–æ: –ø–µ—Ä–µ–≤–æ–¥ –∞–≥–µ–Ω—Ç–∞ ‚Üí —Å–ª–æ–≤–∞—Ä—å
return highlight.highlight_translation || '';
```

**–§–∞–π–ª—ã:** `static/components/HighlightCard.js`

---

### 2. –ú—É—Å–æ—Ä–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Ñ—Ä–∞–∑
**–ü—Ä–æ–±–ª–µ–º–∞:** Yandex Dictionary API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ—Ä–∞–∑—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–ª –ø–µ—Ä–µ–≤–æ–¥—ã –ø–µ—Ä–≤–æ–≥–æ —Å–ª–æ–≤–∞
- `"draw conclusion"` ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–ª "—Ä–∏—Å–æ–≤–∞—Ç—å, –ø—Ä–∏—Ç—è–≥–∏–≤–∞—Ç—å" (–ø–µ—Ä–µ–≤–æ–¥—ã —Å–ª–æ–≤–∞ "draw")
- `"make sense"` ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–ª "—á—É–≤—Å—Ç–≤–æ, –∑–Ω–∞—á–µ–Ω–∏–µ" (–ø–µ—Ä–µ–≤–æ–¥—ã —Å–ª–æ–≤–∞ "sense")

**–†–µ—à–µ–Ω–∏–µ:** –°–ª–æ–≤–∞—Ä—å —Ç–µ–ø–µ—Ä—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–ª–æ–≤ (1 —Å–ª–æ–≤–æ)
```python
if word_count > 1:  # –§—Ä–∞–∑—ã
    # –°–ª–æ–≤–∞—Ä—å –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è
else:  # –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞
    # –ó–∞–ø—Ä–æ—Å —Å–ª–æ–≤–∞—Ä—è —Å –¥–≤–æ–π–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
```

**–§–∞–π–ª—ã:** `core/analysis_orchestrator.py:222-245`

---

### 3. –î–≤–æ–π–Ω–æ–π –∑–∞–ø—Ä–æ—Å —Å–ª–æ–≤–∞—Ä—è –¥–ª—è —Ñ–æ—Ä–º -ed/-ing
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–æ–≤–∞ —Å –æ–∫–æ–Ω—á–∞–Ω–∏—è–º–∏ –ª–µ–º–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–ª–∏—Å—å, —Ç–µ—Ä—è—è —á–∞—Å—Ç—å —Ä–µ—á–∏:
- `implied` (–ø—Ä–∏–ª–∞–≥: –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ–º—ã–π) ‚Üí `imply` (–≥–ª–∞–≥–æ–ª: –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—Ç—å)
- `elevated` (–ø—Ä–∏–ª–∞–≥: –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π) ‚Üí `elevate` (–≥–ª–∞–≥–æ–ª: –ø–æ–≤—ã—à–∞—Ç—å)

**–†–µ—à–µ–Ω–∏–µ:** –î–≤–æ–π–Ω–æ–π –∑–∞–ø—Ä–æ—Å —Å–ª–æ–≤–∞—Ä—è:
1. –°–Ω–∞—á–∞–ª–∞ –¥–ª—è –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ (`implied`)
2. –ï—Å–ª–∏ –ø—É—Å—Ç–æ ‚Üí –¥–ª—è –ª–µ–º–º—ã (`imply`)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Yandex Dictionary –∑–Ω–∞–µ—Ç –≤—Å–µ —Ñ–æ—Ä–º—ã, –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –ø–æ—á—Ç–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

**–§–∞–π–ª—ã:** `core/analysis_orchestrator.py:234-242`

---

### 4. –£–¥–∞–ª–µ–Ω—ã obsolete –ø–æ–ª—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—è `cefr_level` –∏ `importance_score` –≤—Å–µ –µ—â–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –≤ JSON –æ—Ç–≤–µ—Ç–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω—ã –∏–∑:
- `contracts/analysis_contracts.py` (Highlight –∫–ª–∞—Å—Å)
- `to_dict()` –∏ `from_dict()` –º–µ—Ç–æ–¥–æ–≤

**–§–∞–π–ª—ã:** `contracts/analysis_contracts.py`

---

## üóëÔ∏è –£–¥–∞–ª–µ–Ω —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫–æ–¥

### –§–∞–π–ª—ã (76 KB)
```
‚úÖ core/analysis_service.py (8.5 KB)
‚úÖ core/services/deduplication_service.py (15 KB)
‚úÖ templates/experimental.html (23.5 KB)
‚úÖ templates/v3.html (29.5 KB)
```

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã (200 —Å—Ç—Ä–æ–∫)
```
‚úÖ /experimental + /experimental/analyze
‚úÖ /v3 + /v3/analyze
```

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
```
‚úÖ test_phrase_dict.py
‚úÖ test_dual_dict_query.py
‚úÖ test_cleanup_verification.py
```

---

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å–ª–æ–≤–∞—Ä—è
**–ë—ã–ª–æ:** –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (7.06s –¥–ª—è 4 —Å–ª–æ–≤)
**–°—Ç–∞–ª–æ:** –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ `asyncio.gather()` (2.39s)

**–£–ª—É—á—à–µ–Ω–∏–µ:** 66% —É—Å–∫–æ—Ä–µ–Ω–∏–µ (–≤ 2.95 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ)

**–§–∞–π–ª—ã:** `core/analysis_orchestrator.py:101-127`

---

## üßπ –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞

### HighlightCard.js
**–§—É–Ω–∫—Ü–∏—è `getMainTranslation()`:**
- –ë—ã–ª–æ: 24 —Å—Ç—Ä–æ–∫–∏ (3 –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ + fallback –Ω–∞ `russian_example`)
- –°—Ç–∞–ª–æ: 4 —Å—Ç—Ä–æ–∫–∏ (—Ç–æ–ª—å–∫–æ `highlight_translation`)

**–£–¥–∞–ª–µ–Ω –º–µ—Ä—Ç–≤—ã–π –∫–æ–¥:**
- Fallback –Ω–∞ `russian_example` (–ø–æ–ª–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ backend)
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Å–ª–æ–≤–∞—Ä–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

### analysis_orchestrator.py
**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:**
- –£–¥–∞–ª–µ–Ω –∫–æ–¥ subset checking –¥–ª—è —Ñ—Ä–∞–∑ (—Å—Ç—Ä–æ–∫–∏ 273-280)
- –û—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ exact match
- –ü—Ä–∏—á–∏–Ω–∞: —Å–ª–æ–≤–∞—Ä—å –±–æ–ª—å—à–µ –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –¥–ª—è —Ñ—Ä–∞–∑

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–£–¥–∞–ª–µ–Ω–æ:**
- –ö–æ–¥–∞: ~400 —Å—Ç—Ä–æ–∫
- –§–∞–π–ª–æ–≤: 7 (4 –æ—Å–Ω–æ–≤–Ω—ã—Ö + 3 –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö)
- –†–∞–∑–º–µ—Ä: ~85 KB

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –ë–∞–≥–æ–≤: 4 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö
- –£–ø—Ä–æ—â–µ–Ω–æ: 2 —Ñ—É–Ω–∫—Ü–∏–∏

**–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:**
- –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏: +66%
- –¢–æ—á–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤: +100%

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –õ–æ–≥–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å–ª–æ–≤–∞—Ä—è (–Ω–æ–≤–∞—è)
```python
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–ª–æ–≤
if word_count > 1:
    # –§—Ä–∞–∑–∞ - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–ª–æ–≤–∞—Ä—å
    dictionary_meanings = []
else:
    # –°–ª–æ–≤–æ - –¥–≤–æ–π–Ω–æ–π –∑–∞–ø—Ä–æ—Å
    # –ü–æ–ø—ã—Ç–∫–∞ 1: –æ—Ä–∏–≥–∏–Ω–∞–ª
    dictionary_meanings = await get_dictionary_meanings(word)

    # –ü–æ–ø—ã—Ç–∫–∞ 2: –ª–µ–º–º–∞ (–µ—Å–ª–∏ –ø—É—Å—Ç–æ)
    if not dictionary_meanings and word != word_lemma:
        dictionary_meanings = await get_dictionary_meanings(word_lemma)
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è)
```python
# –¢–æ–ª—å–∫–æ exact match
if meaning_normalized == main_normalized:
    duplicates_removed += 1
    continue
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

- ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã –æ—Ç –∞–≥–µ–Ω—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –î–ª—è —Ñ—Ä–∞–∑ –Ω–µ—Ç –º—É—Å–æ—Ä–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ —Å–ª–æ–≤–∞—Ä—è
- ‚úÖ –§–æ—Ä–º—ã -ed/-ing –ø–æ–ª—É—á–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞
- ‚úÖ Obsolete –ø–æ–ª—è —É–¥–∞–ª–µ–Ω—ã –∏–∑ JSON
- ‚úÖ Flask –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

**Non-deterministic behavior –∞–≥–µ–Ω—Ç–æ–≤:**
–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ, —á—Ç–æ –∞–≥–µ–Ω—Ç—ã Yandex AI Studio –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–∞–∑–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞:
- –ê–Ω–∞–ª–∏–∑ #74: 19 —Ö–∞–π–ª–∞–π—Ç–æ–≤ (32.76s)
- –ê–Ω–∞–ª–∏–∑ #75: 82 —Ö–∞–π–ª–∞–π—Ç–∞ (67.10s) - —Ç–æ—Ç –∂–µ —Ç–µ–∫—Å—Ç!

**–ü—Ä–∏—á–∏–Ω–∞:** LLM —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–æ (temperature > 0)

**–í–æ–∑–º–æ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–±—É–¥—É—â–µ–µ):**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å temperature=0 –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö –∞–≥–µ–Ω—Ç–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å seed parameter –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏
