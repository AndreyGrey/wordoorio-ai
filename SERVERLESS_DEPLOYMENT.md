# –î–µ–ø–ª–æ–π Wordoorio –Ω–∞ Yandex Cloud Serverless Container

–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ GitHub Actions.

## üìã –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
GitHub Repository
      ‚Üì (push to main)
GitHub Actions
      ‚Üì
Docker Build ‚Üí Container Registry ‚Üí Serverless Container
                                           ‚Üì
                                      API Gateway
                                           ‚Üì
                                    wordoorio.ru
```

**Keep-Alive:** Cloud Function –ø–∏–Ω–≥—É–µ—Ç —Å–∞–π—Ç –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç (–Ω–µ—Ç —Ö–æ–ª–æ–¥–Ω—ã—Ö —Å—Ç–∞—Ä—Ç–æ–≤).

**IAM –¢–æ–∫–µ–Ω—ã:** –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Metadata Service (–Ω–µ —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è).

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

- **Serverless Container:** ~50-75‚ÇΩ/–º–µ—Å—è—Ü (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–∞—Ñ–∏–∫–∞)
- **Keep-Alive Function:** ~25‚ÇΩ/–º–µ—Å—è—Ü (4320 –≤—ã–∑–æ–≤–æ–≤ √ó 128MB √ó ~1 —Å–µ–∫)
- **API Gateway:** –±–µ—Å–ø–ª–∞—Ç–Ω–æ (–¥–æ 1M –∑–∞–ø—Ä–æ—Å–æ–≤)
- **SSL Certificate:** –±–µ—Å–ø–ª–∞—Ç–Ω–æ (Let's Encrypt —á–µ—Ä–µ–∑ Certificate Manager)

**–ò—Ç–æ–≥–æ:** ~100‚ÇΩ/–º–µ—Å—è—Ü (–±—ã–ª–æ 1,676‚ÇΩ/–º–µ—Å—è—Ü –Ω–∞ VM, —ç–∫–æ–Ω–æ–º–∏—è 94%)

## ü§ñ –î–ª—è Claude Code

**Claude Code –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å:**
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (pip install)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Yandex Cloud CLI
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ Service Account keys
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è base64 –¥–ª—è GitHub Secrets
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚úÖ –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ git push
- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º (–ª–æ–≥–∏, —Å—Ç–∞—Ç—É—Å—ã)

**–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
- ‚ö†Ô∏è **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Yandex Cloud** (`yc init` —Ç—Ä–µ–±—É–µ—Ç OAuth —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä)
- ‚ö†Ô∏è **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ GitHub Secrets** (–Ω—É–∂–µ–Ω –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å GitHub)

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
1. –°–∫–∞–∂–∏ Claude Code: "–ù–∞—Å—Ç—Ä–æ–π –¥–µ–ø–ª–æ–π Wordoorio —Å–æ–≥–ª–∞—Å–Ω–æ SERVERLESS_DEPLOYMENT.md"
2. Claude Code –≤—ã–ø–æ–ª–Ω–∏—Ç –≤—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏
3. –ö–æ–≥–¥–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ - –æ–Ω –ø–æ–ø—Ä–æ—Å–∏—Ç —Ç–µ–±—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–Ω–æ–≤—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä)

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone git@github.com:–≤–∞—à-username/wordoorio.git
cd wordoorio
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** Python 3.9 (pymorphy2 –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å 3.11+)

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ python3.9)
python3.9 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `.env`:
```
YANDEX_FOLDER_ID=b1gcdpfvt5vkfn3o9nm1
YANDEX_DICT_API_KEY=–≤–∞—à_–∫–ª—é—á_—Å–ª–æ–≤–∞—Ä—è
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `YANDEX_IAM_TOKEN` –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è Serverless Container (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Metadata Service). –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ `yc iam create-token`.

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
python web_app.py

# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open http://localhost:8080
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ–ø–ª–æ—è (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Yandex Cloud CLI

```bash
curl -sSL https://storage.yandexcloud.net/yandexcloud-yc/install.sh | bash
source ~/.bashrc  # –∏–ª–∏ ~/.zshrc
```

### 2. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ Yandex Cloud

```bash
yc init
```

–í—ã–±—Ä–∞—Ç—å cloud –∏ folder –∏–∑ —Å–ø–∏—Å–∫–∞.

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã

```bash
# Service Account
yc iam service-account list
# ‚Üí github-wordoorio (aje3bsioau9v6s0n5b6s)

# Container Registry
yc container registry list
# ‚Üí wordoorio-registry (crp1mj4p9ro0clhe5t61)

# Serverless Container
yc serverless container list
# ‚Üí wordoorio (bbaktbcb9dkuurcp862u)

# API Gateway
yc serverless api-gateway list
# ‚Üí wordoorio-gateway (d5df6n4qui53415eisff)

# SSL Certificate
yc certificate-manager certificate list
# ‚Üí wordoorio-cert (fpq05g6igphsjir09205)

# Keep-Alive Function
yc serverless function list
# ‚Üí wordoorio-keep-alive (d4e7l7d8eladv5eivkor)
```

–í—Å–µ —Ä–µ—Å—É—Ä—Å—ã —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã. –ù–æ–≤—ã–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

### 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Secrets

–ï—Å–ª–∏ GitHub Secrets —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã ‚Äî –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —ç—Ç–æ—Ç —à–∞–≥.

#### 4.1. –°–æ–∑–¥–∞—Ç—å Service Account Key

```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á
yc iam key create \
  --service-account-name github-wordoorio \
  --output sa-key.json

# –ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –≤ base64
cat sa-key.json | base64
```

–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–æ–¥ base64 —Å—Ç—Ä–æ–∫–∏.

#### 4.2. –î–æ–±–∞–≤–∏—Ç—å Secrets –≤ GitHub

–ü–µ—Ä–µ–π—Ç–∏ –≤ Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret

–î–æ–±–∞–≤–∏—Ç—å 3 —Å–µ–∫—Ä–µ—Ç–∞:

1. **YANDEX_CLOUD_KEY**
   - Value: `<base64 —Å—Ç—Ä–æ–∫–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —à–∞–≥–∞>`

2. **YANDEX_CLOUD_ID**
   - Value: `b1g5sgin5ubfvtkrvjft`

3. **YANDEX_FOLDER_ID**
   - Value: `b1gcdpfvt5vkfn3o9nm1`

#### 4.3. –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª –∫–ª—é—á–∞

```bash
rm sa-key.json
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å `sa-key.json` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!

## üìù –î–µ–ø–ª–æ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

```bash
git add .
git commit -m "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
git push origin main
```

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –°–æ–±–µ—Ä–µ—Ç Docker –æ–±—Ä–∞–∑
2. –ó–∞–≥—Ä—É–∑–∏—Ç –≤ Container Registry
3. –û–±–Ω–æ–≤–∏—Ç Serverless Container
4. –°–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è

1. –û—Ç–∫—Ä—ã—Ç—å GitHub ‚Üí Actions ‚Üí Deploy to Yandex Cloud Serverless Container
2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∞–π—Ç

```bash
curl -I https://wordoorio.ru
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTTP/2 200
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º–∞: GitHub Actions –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
1. GitHub ‚Üí Actions ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫
2. –†–∞—Å–∫—Ä—ã—Ç—å —É–ø–∞–≤—à–∏–π —à–∞–≥
3. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –æ—à–∏–±–∫—É

**–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:**

1. **Permission denied –≤ Registry**
   ```bash
   # –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞
   yc container registry add-access-binding wordoorio-registry \
     --service-account-id aje3bsioau9v6s0n5b6s \
     --role container-registry.images.pusher
   ```

2. **Service account not available**
   ```bash
   # –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–±—è
   yc iam service-account add-access-binding aje3bsioau9v6s0n5b6s \
     --service-account-id aje3bsioau9v6s0n5b6s \
     --role iam.serviceAccounts.user
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–æ–∫–µ–Ω—ã Yandex GPT –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** IAM —Ç–æ–∫–µ–Ω—ã —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Metadata Service.

**–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Service Account –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
   ```bash
   yc logging read --folder-id=b1gcdpfvt5vkfn3o9nm1 --limit 50
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∞–π—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 502/503

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –µ—â–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (—Ö–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç 3-5 —Å–µ–∫—É–Ω–¥).

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–æ–∂–¥–∞—Ç—å –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:
```bash
yc logging read --folder-id=b1gcdpfvt5vkfn3o9nm1 --limit 50
```

### –ü—Ä–æ–±–ª–µ–º–∞: "module 'inspect' has no attribute 'getargspec'"

**–ü—Ä–∏—á–∏–Ω–∞:** pymorphy2 –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å Python 3.11+ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–π API).

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ê–Ω–∞–ª–∏–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 —Ö–∞–π–ª–∞–π—Ç–æ–≤
- –í –ª–æ–≥–∞—Ö: `‚ùå –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ v2_dual –æ—Ç–≤–µ—Ç–∞: module 'inspect' has no attribute 'getargspec'`
- Yandex GPT —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ –ø–∞—Ä—Å—è—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Python 3.9 –≤ Dockerfile:
```dockerfile
FROM python:3.9-slim  # –ù–ï 3.11!
```

**–í–ê–ñ–ù–û:** Python 3.9 –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å pymorphy2. –ù–µ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –¥–æ 3.11+!

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### GitHub Secrets

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ù–µ –≤–∏–¥–Ω—ã –≤ –ª–æ–≥–∞—Ö
- ‚úÖ –®–∏—Ñ—Ä—É—é—Ç—Å—è GitHub

### Service Account Permissions

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è `github-wordoorio`:
- `container-registry.images.pusher` - –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–æ–≤
- `serverless.containers.admin` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
- `iam.serviceAccounts.user` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ–±—è –∫–∞–∫ SA –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- `ai.languageModels.user` - –¥–æ—Å—Ç—É–ø –∫ Yandex GPT API
- `ai.translate.user` - –¥–æ—Å—Ç—É–ø –∫ Yandex Translate API

–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
```bash
# –ü—Ä–∞–≤–∞ –¥–ª—è GPT –∏ Translate
yc resource-manager folder add-access-binding b1gcdpfvt5vkfn3o9nm1 \
  --service-account-id aje3bsioau9v6s0n5b6s \
  --role ai.languageModels.user

yc resource-manager folder add-access-binding b1gcdpfvt5vkfn3o9nm1 \
  --service-account-id aje3bsioau9v6s0n5b6s \
  --role ai.translate.user
```

### IAM –¢–æ–∫–µ–Ω—ã

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Metadata Service
- ‚úÖ –°—Ä–æ–∫ –∂–∏–∑–Ω–∏: 12 —á–∞—Å–æ–≤ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ)
- ‚úÖ –ù–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

## üíæ –°—Ç—Ä–∞—Ç–µ–≥–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**SQLite –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:**
- –§–∞–π–ª `wordoorio.db` —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ "–∑–∞–ø–µ–∫–∞–µ—Ç—Å—è" –≤ Docker –æ–±—Ä–∞–∑
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤–º–µ—Å—Ç–µ —Å –∫–æ–¥–æ–º
- Keep-Alive —Ñ—É–Ω–∫—Ü–∏—è –ø–∏–Ω–≥—É–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞–µ—Ç—Å—è alive
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏, –ø–æ–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–ü—Ä–∏ –Ω–æ–≤–æ–º –¥–µ–ø–ª–æ–µ:** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç—Å—è ‚Üí –±–∞–∑–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –∏–∑ git

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ:**
```
git push ‚Üí GitHub Actions ‚Üí Docker Build
         ‚Üí COPY . . (–≤–∫–ª—é—á–∞—è wordoorio.db)
         ‚Üí Container Registry ‚Üí Serverless Container
         ‚Üí –ù–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç–∞—Ä—Ç—É–µ—Ç —Å–æ "—Å—Ç–∞—Ä–æ–π" –±–∞–∑–æ–π –∏–∑ git
         ‚Üí –í—Å–µ –¥–∞–Ω–Ω—ã–µ, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–ø–ª–æ—è, —Ç–µ—Ä—è—é—Ç—Å—è
```

### –¢—Ä–µ—Ö—Ñ–∞–∑–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏

#### üìç –§–∞–∑–∞ 1: MVP –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–¢–ï–ö–£–©–ê–Ø –§–ê–ó–ê)

**–ö–æ–≥–¥–∞:** –ü–µ—Ä–≤—ã–µ 1-2 –Ω–µ–¥–µ–ª–∏, –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:** SQLite –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, —á–∏—Å—Ç–∞—è –±–∞–∑–∞ –Ω–∞ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –°—Ç–æ–∏–º–æ—Å—Ç—å: ~100‚ÇΩ/–º–µ—Å—è—Ü (—Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä + Keep-Alive)
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞: –Ω–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚ö†Ô∏è –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –¥–µ–ø–ª–æ–µ ‚Äî –ü–†–ò–ï–ú–õ–ï–ú–û –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ö†Ô∏è –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
# –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º: –æ—á–∏—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
sqlite3 wordoorio.db "DELETE FROM users WHERE telegram_id = 123456789;"
sqlite3 wordoorio.db "DELETE FROM dictionary_words WHERE user_id NOT IN (SELECT id FROM users);"

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —á–∏—Å—Ç—É—é –±–∞–∑—É
git add wordoorio.db
git commit -m "Clean database for testing"
git push origin main
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –§–∞–∑–µ 2:** –ü–æ—è–≤–ª–µ–Ω–∏–µ 1-10 —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

#### üìç –§–∞–∑–∞ 2: –†–∞–Ω–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (1-10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

**–ö–æ–≥–¥–∞:** –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–æ –¥–∞–Ω–Ω—ã—Ö –µ—â–µ –Ω–µ–º–Ω–æ–≥–æ

**–†–µ—à–µ–Ω–∏–µ:** –ë—ç–∫–∞–ø –±–∞–∑—ã –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –°—Ç–æ–∏–º–æ—Å—Ç—å: ~100‚ÇΩ/–º–µ—Å—è—Ü (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –¥–µ–ø–ª–æ—è–º–∏
- ‚ö†Ô∏è –†—É—á–Ω–æ–π —à–∞–≥ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- ‚ö†Ô∏è –ë–∞–∑–∞ —Ä–∞—Å—Ç–µ—Ç –≤ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

1. –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `scripts/backup_database.sh`:
```bash
#!/bin/bash
# –ü–æ–ª—É—á–∏—Ç—å ID —Ç–µ–∫—É—â–µ–π —Ä–µ–≤–∏–∑–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
REVISION_ID=$(yc serverless container revision list \
  --container-name wordoorio \
  --limit 1 \
  --format json | jq -r '.[0].id')

# –°–∫–∞—á–∞—Ç—å –±–∞–∑—É –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—Ç—Ä–µ–±—É–µ—Ç SSH –∏–ª–∏ API –¥–æ—Å—Ç—É–ø)
# TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Yandex Cloud API –∏–ª–∏ SSH
echo "‚ö†Ô∏è  –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –±–∞–∑—ã –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞"
echo "–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –¥–æ–±–∞–≤–∏—Ç—å endpoint /admin/backup –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –±–∞–∑—ã"
```

2. –î–æ–±–∞–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –±–∞–∑—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω–æ–≤):
```python
# –í web_app.py
@app.route('/admin/backup', methods=['GET'])
@require_admin  # Decorator –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
def backup_database():
    return send_file('wordoorio.db', as_attachment=True)
```

3. –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è —Å –±—ç–∫–∞–ø–æ–º:
```bash
# 1. –°–∫–∞—á–∞—Ç—å —Ç–µ–∫—É—â—É—é –±–∞–∑—É —Å –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
curl -o wordoorio.db https://wordoorio.ru/admin/backup \
  -H "Authorization: Bearer $ADMIN_TOKEN"

# 2. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –±–∞–∑—É
git add wordoorio.db
git commit -m "Backup database before deploy"

# 3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
git push origin main
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –§–∞–∑–µ 3:** 10+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ò–õ–ò —Ä–∞–∑–º–µ—Ä –±–∞–∑—ã > 50MB –ò–õ–ò —á–∞—Å—Ç—ã–µ –¥–µ–ø–ª–æ–∏

---

#### üìç –§–∞–∑–∞ 3: –ü—Ä–æ–¥–∞–∫—à–Ω (10+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

**–ö–æ–≥–¥–∞:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–ª–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ–π –¥–ª—è –±–∏–∑–Ω–µ—Å–∞

**–†–µ—à–µ–Ω–∏–µ:** Yandex Managed Service for PostgreSQL

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
- ‚úÖ –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- ‚úÖ –ù–µ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚ö†Ô∏è –°—Ç–æ–∏–º–æ—Å—Ç—å: ~700-2400‚ÇΩ/–º–µ—Å—è—Ü (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)

**–°—Ç–æ–∏–º–æ—Å—Ç—å PostgreSQL:**

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | Hosts | CPU | RAM | HDD | –¶–µ–Ω–∞/–º–µ—Å—è—Ü |
|--------------|-------|-----|-----|-----|------------|
| –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è | 1 | 2 vCPU | 4 GB | 10 GB | ~700-1000‚ÇΩ |
| –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è | 3 | 2 vCPU | 4 GB | 10 GB | ~1500-2400‚ÇΩ |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** 3 —Ö–æ—Å—Ç–∞ –Ω—É–∂–Ω—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ failover (–µ—Å–ª–∏ –æ–¥–∏–Ω –ø–∞–¥–∞–µ—Ç, –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

1. –°–æ–∑–¥–∞—Ç—å PostgreSQL –∫–ª–∞—Å—Ç–µ—Ä:
```bash
yc managed-postgresql cluster create wordoorio-db \
  --environment production \
  --network-name default \
  --postgresql-version 15 \
  --resource-preset s2.micro \
  --host zone-id=ru-central1-a,subnet-name=default-ru-central1-a \
  --disk-size 10 \
  --disk-type network-ssd \
  --user name=wordoorio,password=<STRONG_PASSWORD>
```

2. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```bash
yc managed-postgresql database create wordoorio \
  --cluster-name wordoorio-db \
  --owner wordoorio
```

3. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ SQLite –≤ PostgreSQL:
```bash
# –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ SQLite
sqlite3 wordoorio.db .dump > data.sql

# –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ PostgreSQL —Ñ–æ—Ä–º–∞—Ç (–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Ä—É—á–Ω–∞—è –ø—Ä–∞–≤–∫–∞)
# –ò–º–ø–æ—Ä—Ç –≤ PostgreSQL
psql -h <postgres-host> -U wordoorio -d wordoorio -f data.sql
```

4. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL:
```python
# –í requirements.txt
psycopg2-binary==2.9.9

# –í core/database.py
DATABASE_URL = os.environ.get('DATABASE_URL', 'sqlite:///wordoorio.db')
engine = create_engine(DATABASE_URL)
```

5. –î–æ–±–∞–≤–∏—Ç—å `DATABASE_URL` –≤ Secrets –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
```bash
yc serverless container revision deploy \
  --container-name wordoorio \
  --image cr.yandex/crp1mj4p9ro0clhe5t61/wordoorio-ai:latest \
  --cores 1 \
  --memory 1GB \
  --execution-timeout 180s \
  --service-account-id aje3bsioau9v6s0n5b6s \
  --environment YANDEX_FOLDER_ID=b1gcdpfvt5vkfn3o9nm1 \
  --environment DATABASE_URL=postgresql://wordoorio:PASSWORD@<postgres-host>:6432/wordoorio
```

6. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã (—á–µ—Ä–µ–∑ Yandex Cloud Console):
   - Retention: 7 –¥–Ω–µ–π
   - Frequency: –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00 UTC

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:** –ë–∞–∑–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥–µ–ø–ª–æ–µ–≤, –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è

---

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ê—Å–ø–µ–∫—Ç | –§–∞–∑–∞ 1 (SQLite clean) | –§–∞–∑–∞ 2 (SQLite backup) | –§–∞–∑–∞ 3 (PostgreSQL) |
|--------|----------------------|------------------------|---------------------|
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | ~100‚ÇΩ/–º–µ—Å | ~100‚ÇΩ/–º–µ—Å | ~700-2400‚ÇΩ/–º–µ—Å |
| **–ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö** | ‚úÖ –î–∞ (–ø—Ä–∏–µ–º–ª–µ–º–æ) | ‚ùå –ù–µ—Ç (—Å –±—ç–∫–∞–ø–æ–º) | ‚ùå –ù–µ—Ç |
| **–†—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞** | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è | –°—Ä–µ–¥–Ω—è—è (–±—ç–∫–∞–ø) | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è |
| **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ (3 hosts) |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ | ‚úÖ –î–∞ |
| **–ê–≤—Ç–æ–±—ç–∫–∞–ø—ã** | ‚ùå –ù–µ—Ç | ‚ö†Ô∏è –í—Ä—É—á–Ω—É—é | ‚úÖ –î–∞ |

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

**–§–∞–∑–∞:** 1 (MVP –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

**–°–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã:**
- –†–∞–∑–º–µ—Ä: 933 KB
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: 1 (—Ç–µ—Å—Ç–æ–≤—ã–π)
- –°–ª–æ–≤–∞ –≤ —Å–ª–æ–≤–∞—Ä–µ: 2
- **–î–µ–π—Å—Ç–≤–∏–µ:** –û—á–∏—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–Ω –¥–µ–ø–ª–æ–µ–º

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û—á–∏—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
yc logging read --folder-id=b1gcdpfvt5vkfn3o9nm1 --limit 100

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
yc serverless container get wordoorio

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–≤–∏–∑–∏–∏
yc serverless container revision list --container-name wordoorio --limit 5

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Keep-Alive —Ñ—É–Ω–∫—Ü–∏–∏
yc serverless function logs wordoorio-keep-alive --limit 20
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
# –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π –Ω–æ–≤–æ–π —Ä–µ–≤–∏–∑–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
yc serverless container revision deploy \
  --container-name wordoorio \
  --image cr.yandex/crp1mj4p9ro0clhe5t61/wordoorio-ai:latest \
  --cores 1 \
  --memory 1GB \
  --execution-timeout 180s \
  --service-account-id aje3bsioau9v6s0n5b6s \
  --environment YANDEX_FOLDER_ID=b1gcdpfvt5vkfn3o9nm1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–º–µ–Ω—ã API Gateway
yc serverless api-gateway get wordoorio-gateway

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
yc certificate-manager certificate get wordoorio-cert
```

## üÜò –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Yandex Cloud:** https://cloud.yandex.ru/docs
- **GitHub Actions Docs:** https://docs.github.com/en/actions
- **Docker Docs:** https://docs.docker.com

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
wordoorio/
‚îú‚îÄ‚îÄ .github/workflows/
‚îÇ   ‚îî‚îÄ‚îÄ deploy.yml              # GitHub Actions workflow
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îî‚îÄ‚îÄ yandex_ai_client.py     # Metadata Service –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤
‚îú‚îÄ‚îÄ Dockerfile                  # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ requirements.txt            # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ web_app.py                  # Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ api-gateway.yaml            # –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è API Gateway
‚îî‚îÄ‚îÄ SERVERLESS_DEPLOYMENT.md    # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

- [ ] –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Python 3.9 (–ù–ï 3.11+, pymorphy2 –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º!)
- [ ] –°–æ–∑–¥–∞—Ç—å venv –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Yandex Cloud CLI
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ YC (yc init)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º (yc serverless container list)
- [ ] –°–¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ push
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ–ø–ª–æ–π –≤ GitHub Actions
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∞–π—Ç https://wordoorio.ru

---

**–í–µ—Ä—Å–∏—è:** 1.1
**–î–∞—Ç–∞:** 2025-12-10
**–ú–∏–≥—Ä–∞—Ü–∏—è:** VM ‚Üí Serverless Container
**–≠–∫–æ–Ω–æ–º–∏—è:** 1,576‚ÇΩ/–º–µ—Å (94%)
**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ v1.1:** –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç—Ä–µ—Ö—Ñ–∞–∑–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (SQLite ‚Üí Backup ‚Üí PostgreSQL)
