# üéØ –ú–æ–∏ —Ö–∞–π–ª–∞–π—Ç—ã ‚Äî –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## –û–±–∑–æ—Ä

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª "–ú–æ–∏ —Ö–∞–π–ª–∞–π—Ç—ã" –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Å–ª–æ–≤–∞ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–æ–≤ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏–∑—É—á–µ–Ω–∏—è. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —Å–µ—Ç—ã (–Ω–∞–±–æ—Ä—ã) –ø–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–º —Ç–µ–∫—Å—Ç–∞–º.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     Frontend Layer                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  HighlightCard v6  ‚îÇ  HighlightsStorage.js  ‚îÇ  UI Pages ‚îÇ
‚îÇ  - –ö–Ω–æ–ø–∫–∏ +/‚àí      ‚îÇ  - localStorage API    ‚îÇ  - /main  ‚îÇ
‚îÇ  - –ê–Ω–∏–º–∞—Ü–∏–∏        ‚îÇ  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏       ‚îÇ  - /exp   ‚îÇ
‚îÇ  - Callbacks       ‚îÇ  - –°–µ—Å—Å–∏–∏              ‚îÇ  - /my    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  localStorage Storage                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  wordoorio_sessions  ‚îÇ  wordoorio_saved  ‚îÇ  wordoorio_  ‚îÇ
‚îÇ  [session metadata]  ‚îÇ  {highlights map} ‚îÇ  last_analysis‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

#### 1. Sessions (–°–µ—Å—Å–∏–∏ –∞–Ω–∞–ª–∏–∑–∞)

```javascript
// –ö–ª—é—á: wordoorio_sessions
[
  {
    "session_id": "uuid-v4-string",           // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å–µ—Å—Å–∏–∏
    "original_text": "–ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç...",      // –ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –∞–Ω–∞–ª–∏–∑–∞
    "created_at": "2024-12-03T10:30:00",     // ISO timestamp
    "page": "main",                          // –°—Ç—Ä–∞–Ω–∏—Ü–∞: "main" | "experimental"
    "highlights_count": 12                   // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö–∞–π–ª–∞–π—Ç–æ–≤ –≤ —Å–µ—Å—Å–∏–∏
  }
]
```

#### 2. Saved Highlights (–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ö–∞–π–ª–∞–π—Ç—ã)

```javascript
// –ö–ª—é—á: wordoorio_saved
{
  "uuid-session-1": [
    {
      "highlight": "compelling",
      "context": "This is a compelling argument for change.",
      "context_translation": "—É–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã–π",
      "russian_example": "—É–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã–π",
      "dictionary_meanings": ["—É–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã–π", "–ø—Ä–∏—Ç—è–≥–∞—Ç–µ–ª—å–Ω—ã–π"],
      "cefr_level": "C1",
      "importance_score": 90,
      "why_interesting": "–ú–æ—â–Ω–µ–µ —á–µ–º –ø—Ä–æ—Å—Ç–æ–µ 'convincing'..."
    }
  ],
  "uuid-session-2": [...]
}
```

#### 3. Last Analysis (–ü–æ—Å–ª–µ–¥–Ω–∏–π –∞–Ω–∞–ª–∏–∑)

```javascript
// –ö–ª—é—á: wordoorio_last_analysis
{
  "session_id": "uuid-current",
  "page": "main",
  "timestamp": "2024-12-03T15:20:00",
  "highlights": [...],  // –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
  "deleted_indexes": [2, 5, 7]  // –ò–Ω–¥–µ–∫—Å—ã —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
}
```

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 1. –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫

```
User –¥–µ–π—Å—Ç–≤–∏—è                    –°–∏—Å—Ç–µ–º–∞                         localStorage
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
1. –í–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç                ‚Üí –ê–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ AI
   –ù–∞–∂–∏–º–∞–µ—Ç "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
                               ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏
                                  —Å –∫–Ω–æ–ø–∫–∞–º–∏ +/‚àí

2. –ù–∞–≤–æ–¥–∏—Ç –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É         ‚Üí Blur —ç—Ñ—Ñ–µ–∫—Ç,
                                  –ø–æ–∫–∞–∑ –∫–Ω–æ–ø–æ–∫

3. –ù–∞–∂–∏–º–∞–µ—Ç + (save)           ‚Üí generateSessionId()           ‚Üí –°–æ–∑–¥–∞–µ—Ç session
                               ‚Üí saveHighlight()                ‚Üí –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ saved
                               ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ ‚úì"

4. –ù–∞–∂–∏–º–∞–µ—Ç + –Ω–∞ —É–∂–µ           ‚Üí checkIfSaved()                ‚Üí –ü—Ä–æ–≤–µ—Ä—è–µ—Ç saved
   —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é                 ‚Üí "–£–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ ‚úì"

5. –ù–∞–∂–∏–º–∞–µ—Ç ‚àí (delete)         ‚Üí –ê–Ω–∏–º–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è             ‚Üí –û–±–Ω–æ–≤–ª—è–µ—Ç
                               ‚Üí –ö–∞—Ä—Ç–æ—á–∫–∞ –∏—Å—á–µ–∑–∞–µ—Ç                last_analysis
```

### 2. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ö–∞–π–ª–∞–π—Ç–æ–≤

```
User –¥–µ–π—Å—Ç–≤–∏—è                    –°–∏—Å—Ç–µ–º–∞                         localStorage
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
1. –ö–ª–∏–∫ "–ú–æ–∏ —Ö–∞–π–ª–∞–π—Ç—ã"         ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /my-highlights

2.                             ‚Üí loadSavedSets()               ‚Üí –ß–∏—Ç–∞–µ—Ç sessions
                               ‚Üí renderSets()                  ‚Üí –ß–∏—Ç–∞–µ—Ç saved

3. –í–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Å–µ—Ç–æ–≤          ‚Üí –°–µ—Ç—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–∞—Ç–µ
   —Å –¥–∞—Ç–∞–º–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏       ‚Üí –ù–∞–∑–≤–∞–Ω–∏–µ = first 120 chars

4. –ö–∞–∂–¥—ã–π —Å–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç       ‚Üí –ö–∞—Ä—Ç–æ—á–∫–∏ –±–µ–∑ –∫–Ω–æ–ø–æ–∫
   —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏        ‚Üí (showActions=false)
```

## API HighlightsStorage

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

```javascript
class HighlightsStorage {
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  constructor()

  // –°–µ—Å—Å–∏–∏
  createSession(originalText, page)          // –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é
  getSession(sessionId)                      // –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Å—Å–∏—é –ø–æ ID
  getAllSessions()                           // –í—Å–µ —Å–µ—Å—Å–∏–∏

  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ö–∞–π–ª–∞–π—Ç–æ–≤
  saveHighlight(sessionId, highlight)        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ö–∞–π–ª–∞–π—Ç –≤ —Å–µ—Ç
  isHighlightSaved(sessionId, highlight)     // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
  getSavedHighlights(sessionId)              // –í—Å–µ —Ö–∞–π–ª–∞–π—Ç—ã —Å–µ—Å—Å–∏–∏

  // –ü–æ—Å–ª–µ–¥–Ω–∏–π –∞–Ω–∞–ª–∏–∑
  saveLastAnalysis(sessionId, highlights)    // –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∞–Ω–∞–ª–∏–∑
  getLastAnalysis()                          // –ü–æ–ª—É—á–∏—Ç—å –∫–µ—à
  markAsDeleted(index)                       // –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —É–¥–∞–ª–µ–Ω–Ω–æ–π

  // –£—Ç–∏–ª–∏—Ç—ã
  generateSessionId()                        // UUID v4
  generateSetTitle(text, maxLength=120)      // –ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ç–∞

  // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  getTotalSavedCount()                       // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö
  getSessionStats(sessionId)                 // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–µ—Å—Å–∏–∏
}
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ

```javascript
// –í web_app.py –∏–ª–∏ –≤ JS –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
const storage = new HighlightsStorage();

// –ü—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–µ—Å—Å–∏—è
const sessionId = storage.createSession(originalText, 'main');

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ last_analysis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
storage.saveLastAnalysis(sessionId, highlights);
```

#### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏

```javascript
// Callback –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ +
window.onHighlightSaved = function(index) {
  const storage = new HighlightsStorage();
  const analysis = storage.getLastAnalysis();

  if (!analysis) {
    console.error('No active analysis session');
    return;
  }

  const highlight = analysis.highlights[index];

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ª–∏ —É–∂–µ
  if (storage.isHighlightSaved(analysis.session_id, highlight)) {
    showNotification('–£–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ ‚úì');
    return;
  }

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º
  storage.saveHighlight(analysis.session_id, highlight);
  showNotification('–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ ‚úì');
};
```

#### –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏

```javascript
// Callback –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ ‚àí
window.onHighlightDeleted = function(index) {
  const storage = new HighlightsStorage();

  // –ü—Ä–æ—Å—Ç–æ –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—É—é –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
  storage.markAsDeleted(index);

  // –í–∏–∑—É–∞–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —É–∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ HighlightCard
};
```

#### –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–ú–æ–∏ —Ö–∞–π–ª–∞–π—Ç—ã"

```javascript
// –í /my-highlights
const storage = new HighlightsStorage();
const sessions = storage.getAllSessions();

sessions.forEach(session => {
  const highlights = storage.getSavedHighlights(session.session_id);
  const title = storage.generateSetTitle(session.original_text);

  renderHighlightSet({
    title: title,
    date: session.created_at,
    count: highlights.length,
    highlights: highlights
  });
});
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è HighlightCard v6

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```javascript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ /main –∏ /experimental

// 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å v6
<script src="/static/components/HighlightCard.js?v=6.0"></script>

// 2. –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∫–Ω–æ–ø–∫–∞–º–∏
highlights.forEach((h, index) => {
  const html = createHighlightCard(
    h,
    index,
    'orange',      // theme
    true           // showActions - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏
  );
  container.appendChild(html);
});

// 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ü–∏–∏
initHighlightCardInteractions();

// 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å callbacks
window.onHighlightSaved = function(index) { /* —Å–º. –≤—ã—à–µ */ };
window.onHighlightDeleted = function(index) { /* —Å–º. –≤—ã—à–µ */ };
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ –∫–Ω–æ–ø–æ–∫

```javascript
// –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ /my-highlights –∫–∞—Ä—Ç–æ—á–∫–∏ –±–µ–∑ –∫–Ω–æ–ø–æ–∫

savedHighlights.forEach((h, index) => {
  const html = createHighlightCard(
    h,
    index,
    'orange',
    false  // showActions = false - –ë–ï–ó –∫–Ω–æ–ø–æ–∫
  );
  container.appendChild(html);
});
```

## UI/UX –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫

**–ö–Ω–æ–ø–∫–∞ `+` (–°–æ—Ö—Ä–∞–Ω–∏—Ç—å):**
- **Hover (desktop)**: Blur —Ñ–æ–Ω, –ø–æ–∫–∞–∑ –∫–Ω–æ–ø–æ–∫ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- **Tap (mobile)**: Toggle —Å–æ—Å—Ç–æ—è–Ω–∏—è (–æ—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫–∏)
- **–ö–ª–∏–∫**:
  - –ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞–∂–∞—Ç–∏—è
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ ‚úì" (1.5 —Å–µ–∫)
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
  - –ï—Å–ª–∏ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ: "–£–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ ‚úì"

**–ö–Ω–æ–ø–∫–∞ `‚àí` (–£–¥–∞–ª–∏—Ç—å):**
- **–ö–ª–∏–∫**:
  - –ê–Ω–∏–º–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è (slide out left)
  - –°—Ö–ª–æ–ø—ã–≤–∞–Ω–∏–µ –≤—ã—Å–æ—Ç—ã
  - –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ DOM —á–µ—Ä–µ–∑ 600ms
  - –ü–æ–º–µ—Ç–∫–∞ –≤ last_analysis.deleted_indexes

### –ê–Ω–∏–º–∞—Ü–∏–∏

```css
/* –ü–æ—è–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ */
.action-btn {
  transform: scale(0.8);
  opacity: 0;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.actions-visible .action-btn {
  transform: scale(1);
  opacity: 1;
}

/* Blur –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
.actions-visible .highlight-blurrable {
  filter: blur(8px);
  opacity: 0.3;
}

/* –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
@keyframes cardRemove {
  0% {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateX(-100%) scale(0.8);
  }
}
```

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

- **Desktop**: Hover –¥–ª—è –ø–æ–∫–∞–∑–∞ –∫–Ω–æ–ø–æ–∫
- **Tablet/Mobile**: Tap –¥–ª—è toggle
- **–ö–Ω–æ–ø–∫–∏**:
  - Desktop: 100√ó88px
  - Tablet: 88√ó76px
  - Mobile: 76√ó68px

## –ù–∞–≤–∏–≥–∞—Ü–∏—è

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏

–°—Å—ã–ª–∫–∞ "–ú–æ–∏ —Ö–∞–π–ª–∞–π—Ç—ã" –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —à–∞–ø–∫—É —Ä—è–¥–æ–º —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º:

```html
<header>
  <div class="logo">
    <a href="/">Wordoorio</a>
  </div>
  <nav>
    <a href="/my-highlights" class="nav-link">
      üìö –ú–æ–∏ —Ö–∞–π–ª–∞–π—Ç—ã
    </a>
  </nav>
</header>
```

### –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∞–ø–∫–∞

–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`/main`, `/experimental`, `/v3`, `/my-highlights`) –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —à–∞–ø–∫—É:
- –õ–æ–≥–æ—Ç–∏–ø —Å–ª–µ–≤–∞
- –°—Å—ã–ª–∫–∞ "–ú–æ–∏ —Ö–∞–π–ª–∞–π—Ç—ã" —Å–ø—Ä–∞–≤–∞ –æ—Ç –ª–æ–≥–æ—Ç–∏–ø–∞
- –ë–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã/–º–æ–¥–µ–ª–∏
- –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∏ —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏

### localStorage

- **–ú–∞–∫—Å–∏–º—É–º**: ~5-10MB (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞)
- **–û—Ü–µ–Ω–∫–∞**: ~500-1000 –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞
- **–û—á–∏—Å—Ç–∫–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—á–∏—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ DevTools

### –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–±—É–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏)

- ‚ùå –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
- ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–∑ —Å–µ—Ç–æ–≤
- ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ —Ü–µ–ª—ã—Ö —Å–µ—Ç–æ–≤
- ‚ùå –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–æ–≤
- ‚ùå –ü–æ–∏—Å–∫ –ø–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º –∫–∞—Ä—Ç–æ—á–∫–∞–º
- ‚ùå –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–∞–π–ª—ã (CSV, JSON)
- ‚ùå –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

## –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

### –°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥ —á–µ—Ä–µ–∑ email
   - OAuth (Google, GitHub)

2. **Backend API**
   ```python
   # Endpoints
   POST   /api/sessions          # –°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é
   GET    /api/sessions          # –°–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π
   POST   /api/highlights/save   # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ö–∞–π–ª–∞–π—Ç
   DELETE /api/highlights/{id}   # –£–¥–∞–ª–∏—Ç—å —Ö–∞–π–ª–∞–π—Ç
   GET    /api/my-highlights     # –í—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ
   ```

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
   ```sql
   CREATE TABLE users (
     id UUID PRIMARY KEY,
     email VARCHAR,
     created_at TIMESTAMP
   );

   CREATE TABLE analysis_sessions (
     id UUID PRIMARY KEY,
     user_id UUID REFERENCES users,
     original_text TEXT,
     created_at TIMESTAMP
   );

   CREATE TABLE saved_highlights (
     id UUID PRIMARY KEY,
     session_id UUID REFERENCES analysis_sessions,
     highlight_data JSONB,
     created_at TIMESTAMP
   );
   ```

4. **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
   - –ß—Ç–µ–Ω–∏–µ localStorage
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ
   - –û–ø—Ü–∏—è "–ò–º–ø–æ—Ä—Ç –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞"

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ö–∞–π–ª–∞–π—Ç–æ–≤**
   - ‚úì –ü–µ—Ä–≤–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç —Å–µ—Å—Å–∏—é
   - ‚úì –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–£–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ"
   - ‚úì –†–∞–∑–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã —Å–æ–∑–¥–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —Å–µ—Å—Å–∏–∏

2. **–£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫**
   - ‚úì –ê–Ω–∏–º–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úì –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –∏–∑ —Å–ø–∏—Å–∫–∞
   - ‚úì –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è

3. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ú–æ–∏ —Ö–∞–π–ª–∞–π—Ç—ã"**
   - ‚úì –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Å–µ—Ç—ã
   - ‚úì –°–µ—Ç—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
   - ‚úì –ù–∞–∑–≤–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - ‚úì –ö–∞—Ä—Ç–æ—á–∫–∏ –±–µ–∑ –∫–Ω–æ–ø–æ–∫

4. **localStorage**
   - ‚úì –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
   - ‚úì –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–∞–∑–Ω—ã—Ö –≤–∫–ª–∞–¥–∫–∞—Ö
   - ‚úì –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–º–µ–Ω –∫–ª—é—á–µ–π

5. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**
   - ‚úì Desktop: hover —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úì Mobile: tap toggle —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úì –ö–Ω–æ–ø–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

## Changelog

### v1.0.0 (December 2024)

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- ‚ú® HighlightCard v6 —Å –∫–Ω–æ–ø–∫–∞–º–∏ +/‚àí
- ‚ú® HighlightsStorage –º–æ–¥—É–ª—å –¥–ª—è localStorage
- ‚ú® –°—Ç—Ä–∞–Ω–∏—Ü–∞ /my-highlights
- ‚ú® –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ —à–∞–ø–∫–µ
- ‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–æ–≤
- ‚ú® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –∏–∑ —Ç–µ–∫—Å—Ç–∞

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
- üîÑ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã —à–∞–ø–∫–∏ –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è v6 –≤ /main –∏ /experimental

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ö†Ô∏è –¢–æ–ª—å–∫–æ localStorage (–±–µ–∑ backend)
- ‚ö†Ô∏è –ù–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ
- ‚ö†Ô∏è –ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞: December 2024*
*–í–µ—Ä—Å–∏—è: 1.0.0*
