<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordoorio - –ê–Ω–∞–ª–∏–∑ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤ –æ–Ω–ª–∞–π–Ω | –ò–∑—É—á–µ–Ω–∏–µ –ª–µ–∫—Å–∏–∫–∏ –∏ —Å–ª–æ–≤–∞—Ä–Ω–æ–≥–æ –∑–∞–ø–∞—Å–∞</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="shortcut icon" href="/static/favicon.ico">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(135deg, #C8E3BF 0%, #A8D49A 20%, #B8DBA9 40%, #C8E3BF 70%, #D4EBC7 100%); 
            min-height: 100vh; 
            color: #2d3748;
        }
        
        .container { 
            max-width: 1000px; 
            margin: 0 auto; 
            padding: 40px 20px; 
        }
        
        .header { 
            text-align: center; 
            margin-bottom: 40px; 
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .logo {
            width: 192px;
            height: 192px;
            margin-bottom: 25px;
            filter: drop-shadow(0 6px 12px rgba(0,0,0,0.12));
        }
        
        .header h1 { 
            color: #2d3748; 
            font-size: 2.5rem; 
            font-weight: 700; 
            margin-bottom: 10px; 
            text-shadow: 0 2px 4px rgba(255,255,255,0.3);
        }
        
        .header p { 
            color: #4a5568; 
            font-size: 1.1rem;
            font-weight: 500;
        }
        
        .input-section { 
            background: white; 
            padding: 40px; 
            border-radius: 16px; 
            box-shadow: 0 20px 40px rgba(0,0,0,0.15); 
            margin-bottom: 30px; 
        }
        
        textarea { 
            width: 100%; 
            height: 320px; 
            padding: 20px; 
            border: 2px solid #e2e8f0; 
            border-radius: 12px; 
            font-size: 16px; 
            font-family: inherit;
            resize: vertical; 
            transition: all 0.2s ease;
            line-height: 1.6;
        }
        
        textarea:focus { 
            outline: none; 
            border-color: #4CAF50; 
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }
        
        .button { 
            background: linear-gradient(135deg, #4CAF50 0%, #45A049 100%); 
            color: white; 
            padding: 16px 32px; 
            border: none; 
            border-radius: 12px; 
            font-size: 16px; 
            font-weight: 600;
            cursor: pointer; 
            margin-top: 20px; 
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }
        
        .button:hover { 
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }
        
        .button:disabled { 
            background: #cbd5e0; 
            cursor: not-allowed; 
            transform: none;
            box-shadow: none;
        }
        
        .results { 
            background: white; 
            padding: 40px; 
            border-radius: 16px; 
            box-shadow: 0 20px 40px rgba(0,0,0,0.15); 
            display: none; 
        }
        
        .highlight-item { 
            background: #ffffff; 
            padding: 24px; 
            border-radius: 12px; 
            margin-bottom: 20px; 
            border-left: 4px solid #4CAF50; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: all 0.2s ease;
        }
        
        .highlight-item:hover {
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            transform: translateY(-1px);
        }
        
        .highlight-word { 
            font-size: 1.25rem; 
            font-weight: 600; 
            color: #2d3748; 
            margin-bottom: 8px;
        }
        
        .highlight-translation {
            color: #4CAF50;
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 12px;
        }
        
        .highlight-meaning {
            color: #4a5568;
            font-size: 0.95rem;
            margin-bottom: 12px;
            padding: 12px;
            background: #f7fafc;
            border-radius: 8px;
            border-left: 3px solid #4CAF50;
        }
        
        .highlight-context { 
            color: #718096; 
            font-style: italic; 
            font-size: 0.95rem;
            line-height: 1.6;
        }
        
        .highlighted-word {
            background: linear-gradient(135deg, #4CAF50 0%, #45A049 100%);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            font-style: normal;
        }
        
        .highlight-examples {
            margin-top: 12px;
            padding: 10px;
            background: #f8fafc;
            border-left: 3px solid #10b981;
            border-radius: 0 4px 4px 0;
        }
        
        .english-example, .russian-example {
            margin: 6px 0;
            font-style: italic;
            color: #374151;
            line-height: 1.5;
        }
        
        .english-example {
            font-size: 14px;
        }
        
        .russian-example {
            font-size: 13px;
            color: #6b7280;
        }
        
        .error { 
            background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%); 
            color: #c53030; 
            padding: 20px; 
            border-radius: 12px; 
            margin-top: 20px; 
            font-weight: 500;
        }

        /* –†–∞–¥–æ—Å—Ç–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏–π */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(200, 227, 191, 0.95);
            backdrop-filter: blur(10px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            overflow: hidden;
        }

        .sparkles-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .sparkle {
            position: absolute;
            color: #4CAF50;
            font-size: 20px;
            animation: sparkle-twinkle 3s ease-in-out infinite;
            opacity: 0;
        }

        @keyframes sparkle-twinkle {
            0%, 100% { 
                opacity: 0; 
                transform: scale(0) rotate(0deg); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.2) rotate(180deg); 
            }
        }

        .loading-animation {
            text-align: center;
            position: relative;
            z-index: 10;
        }

        .discovery-title {
            font-family: 'Poppins', 'Inter', sans-serif;
            font-size: 2.4rem;
            font-weight: 600;
            margin-bottom: 30px;
            color: #2d3748;
            animation: happy-bounce 2s ease-in-out infinite;
            text-shadow: 0 2px 8px rgba(76, 175, 80, 0.2);
            letter-spacing: 1px;
            line-height: 1.4;
            text-align: center;
        }

        .title-line-1 {
            font-size: 2rem;
            font-weight: 500;
            color: #4a5568;
            display: block;
            margin-bottom: 8px;
        }

        .title-line-2 {
            font-size: 2.8rem;
            font-weight: 700;
            color: #4CAF50;
            display: block;
            position: relative;
            animation: title-glow 3s ease-in-out infinite;
        }

        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ */
        @media (max-width: 768px) {
            .discovery-title {
                font-size: 1.8rem;
                margin-bottom: 20px;
                padding: 0 10px;
            }
            
            .title-line-1 {
                font-size: 1.4rem;
            }
            
            .title-line-2 {
                font-size: 2rem;
            }
            
            .word-discovery {
                width: 95%;
                height: 200px;
                margin: 20px auto;
            }
            
            .mystery-card {
                width: 18px;
                height: 25px;
            }
            
            .flying-word {
                font-size: 1.1rem;
                padding: 6px 12px;
                max-width: 85%;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }
            
            .excitement-message {
                font-size: 1.1rem;
                margin-top: 20px;
                padding: 0 15px;
            }
            
            .book-pages {
                width: 60px;
                height: 80px;
                left: 10%;
            }
            
            .page {
                width: 45px;
                height: 60px;
            }
            
            .lightbulb {
                font-size: 2rem;
                right: 15%;
            }
        }

        @media (max-width: 480px) {
            .discovery-title {
                font-size: 1.5rem;
            }
            
            .title-line-1 {
                font-size: 1.2rem;
            }
            
            .title-line-2 {
                font-size: 1.7rem;
            }
            
            .word-discovery {
                height: 150px;
            }
            
            .mystery-card {
                width: 15px;
                height: 20px;
            }
            
            .flying-word {
                font-size: 1rem;
                padding: 4px 8px;
            }
            
            .excitement-message {
                font-size: 1rem;
            }
        }

        @keyframes title-glow {
            0%, 100% { 
                text-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);
                transform: scale(1);
            }
            50% { 
                text-shadow: 0 4px 20px rgba(76, 175, 80, 0.6);
                transform: scale(1.02);
            }
        }

        @keyframes happy-bounce {
            0%, 100% { 
                transform: translateY(0) scale(1);
            }
            50% { 
                transform: translateY(-10px) scale(1.05);
            }
        }

        .word-discovery {
            position: relative;
            width: 500px;
            height: 300px;
            margin: 40px auto;
        }

        .flying-word {
            position: absolute;
            font-size: 1.5rem;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 20px;
            background: linear-gradient(135deg, #4CAF50, #81C784);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            animation: word-discovery-dance 4s ease-in-out infinite;
            opacity: 0;
        }

        @keyframes word-discovery-dance {
            0% {
                opacity: 0;
                transform: translateY(50px) scale(0.8) rotate(-10deg);
            }
            25% {
                opacity: 1;
                transform: translateY(0) scale(1) rotate(0deg);
            }
            75% {
                opacity: 1;
                transform: translateY(-20px) scale(1.1) rotate(5deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-80px) scale(0.8) rotate(10deg);
            }
        }

        .letters-rain {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .letter-drop {
            position: absolute;
            font-size: 2rem;
            font-weight: 600;
            color: #4CAF50;
            opacity: 0.7;
            animation: letter-fall 5s linear infinite;
            font-family: 'Inter', sans-serif;
        }

        @keyframes letter-fall {
            0% {
                transform: translateY(-50px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(400px) rotate(360deg);
                opacity: 0;
            }
        }

        .excitement-message {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-top: 40px;
            animation: excitement-pulse 1.8s ease-in-out infinite;
        }

        @keyframes excitement-pulse {
            0%, 100% { 
                transform: scale(1);
                color: #2d3748;
            }
            50% { 
                transform: scale(1.08);
                color: #4CAF50;
            }
        }

        .discovery-dots {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 30px;
        }

        .discovery-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4CAF50;
            margin: 0 8px;
            animation: dot-bounce 1.4s ease-in-out infinite;
        }

        .discovery-dot:nth-child(1) { animation-delay: 0s; }
        .discovery-dot:nth-child(2) { animation-delay: 0.2s; }
        .discovery-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes dot-bounce {
            0%, 80%, 100% {
                transform: scale(0.8) translateY(0);
                background: #4CAF50;
            }
            40% {
                transform: scale(1.2) translateY(-10px);
                background: #81C784;
            }
        }

        .mystery-cards {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        .mystery-card {
            position: absolute;
            width: 25px;
            height: 35px;
            background: white;
            border: 2px solid #4CAF50;
            border-radius: 4px;
            box-shadow: 0 3px 8px rgba(76, 175, 80, 0.3);
            animation: mystery-reveal 5s ease-in-out infinite;
            opacity: 0;
        }

        /* –ü–µ—Ä–≤–∞—è –≥—Ä—É–ø–ø–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ - –∫–∞–∫ –±—É–¥—Ç–æ —Å–ª–æ–≤–æ –∏–∑ 6 –±—É–∫–≤ */
        .mystery-card:nth-child(1) { animation-delay: 0s; top: 20%; left: 15%; }
        .mystery-card:nth-child(2) { animation-delay: 0.2s; top: 20%; left: 18%; }
        .mystery-card:nth-child(3) { animation-delay: 0.4s; top: 20%; left: 21%; }
        .mystery-card:nth-child(4) { animation-delay: 0.6s; top: 20%; left: 24%; }
        .mystery-card:nth-child(5) { animation-delay: 0.8s; top: 20%; left: 27%; }
        .mystery-card:nth-child(6) { animation-delay: 1.0s; top: 20%; left: 30%; }

        /* –í—Ç–æ—Ä–∞—è –≥—Ä—É–ø–ø–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ - –∫–∞–∫ –±—É–¥—Ç–æ —Å–ª–æ–≤–æ –∏–∑ 8 –±—É–∫–≤ */
        .mystery-card:nth-child(7) { animation-delay: 2s; bottom: 25%; right: 20%; }
        .mystery-card:nth-child(8) { animation-delay: 2.2s; bottom: 25%; right: 23%; }
        .mystery-card:nth-child(9) { animation-delay: 2.4s; bottom: 25%; right: 26%; }
        .mystery-card:nth-child(10) { animation-delay: 2.6s; bottom: 25%; right: 29%; }
        .mystery-card:nth-child(11) { animation-delay: 2.8s; bottom: 25%; right: 32%; }
        .mystery-card:nth-child(12) { animation-delay: 3.0s; bottom: 25%; right: 35%; }
        .mystery-card:nth-child(13) { animation-delay: 3.2s; bottom: 25%; right: 38%; }
        .mystery-card:nth-child(14) { animation-delay: 3.4s; bottom: 25%; right: 41%; }

        /* –¢—Ä–µ—Ç—å—è –≥—Ä—É–ø–ø–∞ - –∫–æ—Ä–æ—Ç–∫–æ–µ —Å–ª–æ–≤–æ –∏–∑ 4 –±—É–∫–≤ */
        .mystery-card:nth-child(15) { animation-delay: 4.5s; top: 60%; left: 40%; }
        .mystery-card:nth-child(16) { animation-delay: 4.7s; top: 60%; left: 43%; }
        .mystery-card:nth-child(17) { animation-delay: 4.9s; top: 60%; left: 46%; }
        .mystery-card:nth-child(18) { animation-delay: 5.1s; top: 60%; left: 49%; }

        .book-pages {
            position: absolute;
            width: 80px;
            height: 100px;
            top: 50%;
            left: 20%;
            transform: translateY(-50%);
            opacity: 0.6;
        }

        .page {
            position: absolute;
            width: 60px;
            height: 80px;
            background: white;
            border: 2px solid #4CAF50;
            border-radius: 4px;
            animation: page-flip 3s ease-in-out infinite;
            transform-origin: left center;
        }

        .page:nth-child(1) { animation-delay: 0s; z-index: 3; }
        .page:nth-child(2) { animation-delay: 1s; z-index: 2; }
        .page:nth-child(3) { animation-delay: 2s; z-index: 1; }

        @keyframes mystery-reveal {
            0% {
                opacity: 0;
                transform: translateY(10px) rotateX(90deg);
                background: white;
            }
            20% {
                opacity: 1;
                transform: translateY(0) rotateX(0deg);
                background: white;
            }
            40% {
                transform: scale(1.1);
                background: #f0f8f0;
            }
            60% {
                transform: scale(1) rotateY(5deg);
                background: white;
                box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
            }
            80% {
                transform: rotateY(0deg);
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateY(-15px) rotateX(-90deg);
            }
        }

        @keyframes page-flip {
            0%, 80% {
                transform: rotateY(0deg);
            }
            90%, 100% {
                transform: rotateY(-180deg);
            }
        }

        .lightbulb {
            position: absolute;
            top: 20%;
            right: 20%;
            font-size: 3rem;
            animation: lightbulb-idea 2.5s ease-in-out infinite;
        }

        @keyframes lightbulb-idea {
            0%, 70% {
                transform: scale(1);
                filter: brightness(1);
            }
            85%, 100% {
                transform: scale(1.3);
                filter: brightness(1.5);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <svg class="logo" viewBox="0 0 694 700" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M46.8948 79.2285C58.0378 65.4675 70.7668 53.0715 84.8178 42.2965C111.08 22.1415 143.443 8.81249 175.948 3.08349C198.505 -0.891508 227.139 0.116486 250.525 0.108486L442.413 0.123485C464.872 0.0914851 489.768 -0.68651 511.862 2.19749C561.182 8.63349 614.947 39.0545 645.206 78.7255C693.905 139.994 692.901 182.274 693.036 256.165L693.04 459.32C693.041 476.08 693.748 493.705 692.012 510.136C682.139 603.533 610.965 677.987 519.386 696.13C492.594 701.438 469.52 699.547 442.382 699.491L349.562 699.462L249.155 699.568C229.574 699.564 204.676 700.404 185.815 698.12C130.951 691.477 79.9688 661.983 45.8698 618.796C25.1558 592.636 10.8089 562.018 3.96085 529.361C-1.38715 503.041 0.234853 476.024 0.219853 449.188L0.609853 334.896L0.602849 245.674C0.602849 228.878 -0.0831524 205.819 1.88285 189.618C6.50785 149.398 22.0768 111.215 46.8948 79.2285Z" fill="#1B7A94"/>
<path d="M46.8948 79.2285C58.0378 65.4675 70.7668 53.0715 84.8178 42.2965C111.08 22.1415 143.443 8.81249 175.948 3.08349C198.505 -0.891508 227.139 0.116486 250.525 0.108486L442.413 0.123485C464.872 0.0914851 489.768 -0.68651 511.862 2.19749C561.182 8.63349 614.947 39.0545 645.206 78.7255C643.773 83.6035 639.801 88.9965 636.97 93.3055C620.637 118.164 600.5 138.083 577.008 156.144C571.832 160.124 565.137 163.16 560.66 166.687C545.526 121.543 502.084 92.0845 454.544 94.7305C407.005 97.3765 367.1 131.474 357.07 178.018C355.692 176.506 339.947 176.484 338.212 177.502C336.667 170.191 334.22 163.1 330.927 156.393C288.156 68.6385 165.457 75.0275 134.195 168.688C124.035 161.836 114.74 155.923 105.193 147.842C83.3098 129.318 61.8698 103.594 46.8948 79.2285Z" fill="#39A0B3"/>
<path d="M134.195 168.688C165.457 75.0275 288.156 68.6385 330.927 156.393C334.22 163.1 336.667 170.191 338.212 177.502C342.271 196.109 341.903 213.252 336.434 231.595C328.524 257.573 310.791 279.441 287.006 292.548C202.866 337.907 105.639 259.497 134.195 168.688Z" fill="#C8E3BF"/>
<path d="M230.496 132.32C268.022 129.69 300.564 158.003 303.151 195.532C305.738 233.061 277.389 265.572 239.857 268.116C202.384 270.657 169.937 242.362 167.354 204.893C164.772 167.424 193.029 134.945 230.496 132.32Z" fill="#1B7A94"/>
<path d="M231.993 151.26C253.521 148.534 256.027 176.377 239.171 183.161C219.329 186.329 214.234 159.006 231.993 151.26Z" fill="#F8F9F6"/>
<path d="M357.07 178.018C367.1 131.474 407.005 97.3765 454.544 94.7305C502.084 92.0845 545.526 121.543 560.66 166.687C574.836 208.976 560.948 255.613 525.947 283.257C490.945 310.901 442.359 313.606 404.506 290.017C366.652 266.428 347.674 221.619 357.07 178.018Z" fill="#C8E3BF"/>
<path d="M456.379 132.186C493.937 129.579 526.466 157.979 528.951 195.544C531.437 233.109 502.932 265.547 465.359 267.911C427.957 270.264 395.7 241.917 393.226 204.524C390.752 167.13 418.994 134.781 456.379 132.186Z" fill="#1B7A94"/>
<path d="M456.318 149.681C471.354 149.11 476.131 161.352 471.756 174.873C470.369 179.159 465.862 182.089 461.72 183.583C442.786 185.908 437.069 156.523 456.318 149.681Z" fill="#F8F9F6"/>
<path d="M157.329 415.281C171.611 414.514 183.79 425.512 184.479 439.797C185.169 454.082 174.105 466.202 159.816 466.813C145.637 467.42 133.63 456.46 132.946 442.284C132.262 428.108 143.157 416.042 157.329 415.281Z" fill="#1B7A94"/>
<path d="M274.99 416.752C284.184 416.736 294.524 416.176 301.889 422.551C313.167 432.312 311.814 448.216 303.024 458.842C294.079 465.991 285.658 465.706 274.846 465.534C275.747 451.781 275.006 431.192 274.99 416.752Z" fill="#1B7A94"/>
<path d="M221.563 416.347C227.314 416.165 232.551 415.76 237.05 420.07C242.038 424.848 239.651 431.278 235.079 435.238C229.83 437.514 225.405 437.168 219.887 436.726C219.891 433.208 219.272 419.21 220.165 416.73L221.563 416.347Z" fill="#1B7A94"/>
<path d="M508.678 416.168C514.167 416.187 520.107 416.074 524.676 419.641C529.317 423.264 527.505 429.123 524.274 433.034C519.1 436.037 514.464 435.56 508.653 435.414C508.764 429.088 508.676 422.515 508.678 416.168Z" fill="#1B7A94"/>
<path d="M368.875 422.083C391.161 420.242 402.238 434.678 407.262 454.49C408.225 449.181 409.218 446.078 411.62 441.128C417.418 426.012 443.436 416.678 457.051 425.88C486.269 445.625 477.375 487.069 443.918 495.95C421.604 497.597 411.935 484.052 407.144 464.15C403.777 479.205 396.936 491.477 380.971 496.089C373.23 498.325 365.122 496.628 358.271 492.553C349.59 487.364 343.342 478.926 340.915 469.113C335.901 448.451 347.674 427.042 368.875 422.083Z" fill="#F8F9F6"/>
<path d="M438.996 439.875C464.394 437.56 465.871 473.209 442.508 479.338C437.497 479.466 434.436 479.212 430.101 476.264C425.68 473.213 422.659 468.525 421.707 463.24C419.703 451.729 427.716 441.818 438.996 439.875Z" fill="#1B7A94"/>
<path d="M370.006 440.928C380.526 439.022 390.593 446.021 392.464 456.541C394.335 467.06 387.298 477.097 376.765 478.931C366.283 480.757 356.298 473.765 354.436 463.296C352.574 452.826 359.536 442.824 370.006 440.928Z" fill="#1B7A94"/>
<path d="M157.359 388.789C158.422 388.535 157.904 388.516 158.963 388.885C159.109 390.36 155.172 401.767 154.462 403.865C143.728 435.57 135.87 468.101 126.525 500.153C121.635 500.077 116.661 500.102 111.762 500.078C108.982 493.495 105.06 480.004 102.791 472.873C98.4369 480.466 94.2747 491.316 91.0275 499.61C85.7141 499.653 80.3222 499.577 75.0026 499.548C69.016 476.191 63.465 442.262 60.0156 418.507C59.7141 417.184 59.2605 412.58 59.0618 411.001C66.2371 408.669 71.2232 406.724 77.3987 402.2C78.8209 422.919 83.0894 449.251 86.9709 469.768C94.1726 456.637 100.599 442.44 107.9 428.848C110.429 444.284 111.834 458.278 118.832 472.374C120.325 467.942 123.106 453.89 124.452 448.367C129.103 429.981 133.52 411.536 137.703 393.039C144.294 391.806 150.848 390.389 157.359 388.789Z" fill="#F8F9F6"/>
<path d="M488.718 401.911C492.417 401.337 498.817 401.707 502.61 402.148C532.4 405.606 541.689 440.273 521.611 460.781C518.144 464.322 515.094 466.525 511.095 469.419C516.79 478.185 526.975 492.773 533.276 501.005C528.704 504.999 523.681 508.835 518.895 512.603C518.068 511.32 517.116 509.526 516.331 508.165C513.698 503.252 500.646 478.335 497.096 477.124C495.499 477.503 494.858 477.491 493.72 478.57C493.615 482.372 496.447 497.715 497.223 502.477L477.155 502.65C477.548 469.887 477.16 436.839 477.173 404.049C481.315 402.825 484.498 402.43 488.718 401.911Z" fill="#F8F9F6"/>
<path d="M493.823 419.408C494.793 419.391 495.763 419.393 496.734 419.412C515.734 419.821 524.196 437.651 508.858 452C503.534 456.009 499.179 457.818 493.046 459.869L493.823 419.408Z" fill="#1B7A94"/>
<path d="M235.265 401.934C257.51 400.86 275.674 412.6 274.619 436.419C273.826 454.326 265.122 458.372 253.887 468.617L253.603 468.879C261.408 480.24 268.4 490.55 275.785 502.212C271.01 505.65 266.133 508.944 261.16 512.091L257.611 505.675C251.362 494.838 243.744 481.402 236.615 471.134C235.832 483.662 237.197 489.064 239.947 501.072L220.597 500.861C221.107 468.539 221.134 436.212 220.68 403.89C225.281 402.681 230.533 402.27 235.265 401.934Z" fill="#F8F9F6"/>
<path d="M237.181 419.538C237.616 419.537 238.051 419.549 238.486 419.572C244.76 419.876 250.473 421.382 254.785 426.264C257.71 429.532 259.195 433.839 258.903 438.214C258.525 444.03 255.525 448.162 251.286 451.864C245.99 455.622 242.061 456.444 235.937 457.678L235.854 433.357C235.839 429.457 235.698 425.058 236.018 421.203C236.119 419.991 236.161 420.297 237.181 419.538Z" fill="#1B7A94"/>
<path d="M179.816 422.66C188.292 422.207 194.411 422.993 201.674 428.125C209.161 433.355 214.181 441.417 215.572 450.439C217.34 461.291 215.651 473.3 208.976 482.308C203.379 489.889 194.992 494.931 185.668 496.324C142.099 498.182 134.391 431.062 179.816 422.66Z" fill="#F8F9F6"/>
<path d="M180.124 440.054C190.751 438.644 200.525 446.069 202.01 456.679C203.493 467.289 196.133 477.108 185.526 478.665C174.815 480.237 164.872 472.792 163.373 462.077C161.874 451.362 169.393 441.477 180.124 440.054Z" fill="#1B7A94"/>
<path d="M599.895 423.23C639.397 419.551 653.014 484.694 607.467 496.165C563.469 503.856 555.521 428.817 599.895 423.23Z" fill="#F8F9F6"/>
<path d="M603.41 439.385C625.836 440.098 628.837 477.225 602.02 480.33C597.609 480.011 594.67 479.65 591.064 476.992C578.656 467.84 582.269 446.112 596.539 440.8C598.859 439.937 601.006 439.689 603.41 439.385Z" fill="#1B7A94"/>
<path d="M283.71 403.627C297.509 406.102 308.142 410.44 318.966 419.782C336.054 434.531 341.331 460.647 328.325 479.72C326.857 481.872 324.751 484.073 322.934 486.043C310.948 497.439 299.141 498.059 283.826 497.859L283.71 403.627Z" fill="#F8F9F6"/>
<path d="M297.856 426.856C300.6 427.807 304.6 430.854 306.816 432.755C319.853 443.939 323.484 461.879 311.665 475.394C306.969 479.452 303.41 480.948 297.363 481.905C297.327 475.911 297.848 468.976 298.02 462.859C298.419 450.861 298.365 438.85 297.856 426.856Z" fill="#1B7A94"/>
<path d="M542.836 429.608C548.588 429.683 554.34 429.729 560.093 429.744C560.051 432.937 559.912 436.199 559.683 439.386C558.426 457.106 558.356 475.137 556.821 492.812C551.02 492.889 545.218 492.82 539.424 492.608C540.369 472.048 542.516 449.876 542.836 429.608Z" fill="#F8F9F6"/>
<path d="M549.22 390.042C556.821 388.1 564.567 392.631 566.589 400.204C568.617 407.776 564.171 415.568 556.612 417.675C551.652 419.058 546.33 417.672 542.676 414.044C539.021 410.416 537.604 405.106 538.959 400.14C540.307 395.174 544.232 391.318 549.22 390.042Z" fill="#F8F9F6"/>
</svg>
            <p>AI-powered –∞–Ω–∞–ª–∏–∑ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ–π –∞–Ω–≥–ª–∏–π—Å–∫–æ–π –ª–µ–∫—Å–∏–∫–∏</p>
        </div>

        <div class="input-section">
            <h2>üìù –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞</h2>
            <p style="color: #718096; margin-bottom: 15px;">–í—Å—Ç–∞–≤—å—Ç–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Ö–∞–π–ª–∞–π—Ç–æ–≤:</p>
            <textarea id="textInput"></textarea>
            <button class="button" onclick="analyzeText()">üîç –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
            <div id="error" class="error" style="display: none;"></div>
        </div>

        <div id="results" class="results">
            <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞</h2>
            <div id="highlightsList"></div>
        </div>
    </div>

    <!-- –†–∞–¥–æ—Å—Ç–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏–π -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="sparkles-bg" id="sparklesBg"></div>
        <div class="letters-rain" id="lettersRain"></div>
        
        <div class="loading-animation">
            <div class="discovery-title">
                <span class="title-line-1">–ê–ù–ê–õ–ò–ó–ò–†–£–Æ –ò –°–û–ë–ò–†–ê–Æ</span><br>
                <span class="title-line-2">–ö–†–£–¢–£–Æ –õ–ï–ö–°–ò–ö–£</span>
            </div>
            
            <div class="word-discovery" id="wordDiscovery">
                <div class="mystery-cards" id="mysteryCards">
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                    <div class="mystery-card"></div>
                </div>
                <div class="book-pages">
                    <div class="page"></div>
                    <div class="page"></div>
                    <div class="page"></div>
                </div>
                <div class="lightbulb">üí°</div>
            </div>
            
            <div class="excitement-message">–°–∫–æ—Ä–æ –æ—Ç–∫—Ä–æ–µ–º —á—Ç–æ-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ!</div>
            
            <div class="discovery-dots">
                <div class="discovery-dot"></div>
                <div class="discovery-dot"></div>
                <div class="discovery-dot"></div>
            </div>
        </div>
    </div>

    <script>
        // –†–∞–¥–æ—Å—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏–π
        function showLoadingAnimation(inputText = '') {
            const overlay = document.getElementById('loadingOverlay');
            overlay.style.display = 'flex';
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –±–ª–µ—Å—Ç–∫–∏
            startSparkles();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –¥–æ–∂–¥—å –∏–∑ –±—É–∫–≤
            startLettersRain();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –ª–µ—Ç–∞—é—â–∏–µ —Å–ª–æ–≤–∞ –æ—Ç–∫—Ä—ã—Ç–∏–π –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
            startDiscoveryWords(inputText);
        }

        function hideLoadingAnimation() {
            const overlay = document.getElementById('loadingOverlay');
            overlay.style.display = 'none';
            
            // –û—á–∏—â–∞–µ–º –≤—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            clearDiscoveryAnimations();
        }

        function startSparkles() {
            const sparklesBg = document.getElementById('sparklesBg');
            const sparkleChars = ['‚ú®', '‚≠ê', 'üí´', 'üåü', '‚ú¶', '‚úß', '‚ãÜ'];
            
            // –°–æ–∑–¥–∞–µ–º –±–ª–µ—Å—Ç–∫–∏
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    if (!document.getElementById('sparklesBg')) return;
                    
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.textContent = sparkleChars[Math.floor(Math.random() * sparkleChars.length)];
                    sparkle.style.left = Math.random() * 100 + '%';
                    sparkle.style.top = Math.random() * 100 + '%';
                    sparkle.style.animationDelay = Math.random() * 3 + 's';
                    sparkle.style.animationDuration = (2 + Math.random() * 2) + 's';
                    
                    sparklesBg.appendChild(sparkle);
                    
                    // –£–¥–∞–ª—è–µ–º –±–ª–µ—Å—Ç–∫—É –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                    setTimeout(() => {
                        if (sparkle.parentNode) {
                            sparkle.parentNode.removeChild(sparkle);
                        }
                    }, 4000);
                }, i * 150);
            }
        }

        function startLettersRain() {
            const lettersRain = document.getElementById('lettersRain');
            const letters = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];
            
            let letterIndex = 0;
            window.letterRainInterval = setInterval(() => {
                if (!lettersRain) return;
                
                const letter = document.createElement('div');
                letter.className = 'letter-drop';
                letter.textContent = letters[letterIndex % letters.length];
                letter.style.left = Math.random() * 100 + '%';
                letter.style.animationDelay = Math.random() * 2 + 's';
                letter.style.animationDuration = (4 + Math.random() * 2) + 's';
                
                lettersRain.appendChild(letter);
                letterIndex++;
                
                // –£–¥–∞–ª—è–µ–º –±—É–∫–≤—É –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                setTimeout(() => {
                    if (letter.parentNode) {
                        letter.parentNode.removeChild(letter);
                    }
                }, 6000);
            }, 400);
        }

        function startDiscoveryWords(inputText) {
            const wordDiscovery = document.getElementById('wordDiscovery');
            
            // –ò–∑–≤–ª–µ–∫–∞–µ–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Å–ª–æ–≤–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            let discoveryWords = extractInterestingWords(inputText);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∏ –¥–ª–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
            const sophisticatedWords = [
                'orchestration', 'infrastructure', 'methodology', 'implementation',
                'sophisticated', 'comprehensive', 'extraordinary', 'revolutionary',
                'architecture', 'performance', 'optimization', 'transformation',
                'collaboration', 'integration', 'visualization', 'authentication',
                'personalization', 'configuration', 'administration', 'specification',
                'documentation', 'localization', 'internationalization', 'communication',
                'representation', 'interpretation', 'understanding', 'investigation',
                'conversation', 'information', 'explanation', 'demonstration'
            ];
            
            // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–ª–æ–≤, –¥–æ–±–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –¥–ª–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
            if (discoveryWords.length < 12) {
                const shuffledSophisticated = sophisticatedWords.sort(() => Math.random() - 0.5);
                discoveryWords = [...discoveryWords, ...shuffledSophisticated].slice(0, 20);
            }
            
            let wordIndex = 0;
            window.discoveryWordsInterval = setInterval(() => {
                if (!wordDiscovery) return;
                
                // –°–æ–∑–¥–∞–µ–º 2-3 —Å–ª–æ–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è –±–æ–ª–µ–µ –Ω–∞—Å—ã—â–µ–Ω–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
                const wordsToCreate = Math.floor(Math.random() * 3) + 1;
                
                for (let i = 0; i < wordsToCreate; i++) {
                    const wordElement = document.createElement('div');
                    wordElement.className = 'flying-word';
                    wordElement.textContent = discoveryWords[wordIndex % discoveryWords.length];
                    
                    // –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
                    const isMobile = window.innerWidth <= 768;
                    const positions = isMobile ? [
                        { left: '15%', top: '30%' },
                        { left: '50%', top: '15%' },
                        { left: '75%', top: '45%' },
                        { left: '30%', top: '70%' },
                        { left: '65%', top: '25%' },
                        { left: '20%', top: '55%' }
                    ] : [
                        { left: '5%', top: '25%' },
                        { left: '25%', top: '15%' },
                        { left: '45%', top: '35%' },
                        { left: '65%', top: '20%' },
                        { left: '85%', top: '40%' },
                        { left: '15%', top: '65%' },
                        { left: '75%', top: '70%' },
                        { left: '35%', top: '75%' },
                        { left: '55%', top: '55%' },
                        { left: '10%', top: '45%' }
                    ];
                    
                    const pos = positions[Math.floor(Math.random() * positions.length)];
                    wordElement.style.left = pos.left;
                    wordElement.style.top = pos.top;
                    wordElement.style.animationDelay = (Math.random() * 2 + i * 0.3) + 's';
                    
                    // –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞
                    if (isMobile) {
                        wordElement.style.fontSize = '1.1rem';
                        wordElement.style.padding = '6px 12px';
                    }
                    
                    wordDiscovery.appendChild(wordElement);
                    wordIndex++;
                    
                    // –£–¥–∞–ª—è–µ–º —Å–ª–æ–≤–æ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                    setTimeout(() => {
                        if (wordElement.parentNode) {
                            wordElement.parentNode.removeChild(wordElement);
                        }
                    }, 5000);
                }
            }, 800); // –ë–æ–ª–µ–µ —á–∞—Å—Ç–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤
        }

        function extractInterestingWords(text) {
            if (!text) return [];
            
            // –ü—Ä–æ—Å—Ç—ã–µ —Å–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã
            const boringWords = new Set([
                'the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 
                'of', 'with', 'by', 'is', 'are', 'was', 'were', 'be', 'been', 'being',
                'have', 'has', 'had', 'do', 'does', 'did', 'will', 'would', 'could',
                'should', 'may', 'might', 'can', 'this', 'that', 'these', 'those',
                'i', 'you', 'he', 'she', 'it', 'we', 'they', 'me', 'him', 'her',
                'us', 'them', 'my', 'your', 'his', 'her', 'its', 'our', 'their',
                'get', 'got', 'use', 'used', 'make', 'made', 'see', 'come', 'go',
                'know', 'take', 'give', 'think', 'way', 'work', 'time', 'good', 'new',
                'first', 'last', 'long', 'great', 'little', 'right', 'old', 'try'
            ]);
            
            // –ò–∑–≤–ª–µ–∫–∞–µ–º —Å–ª–æ–≤–∞ –∏ —Ñ–∏–ª—å—Ç—Ä—É–µ–º
            const words = text.toLowerCase()
                .replace(/[^\w\s]/g, ' ') // —É–±–∏—Ä–∞–µ–º –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é
                .split(/\s+/)
                .filter(word => 
                    word.length >= 6 && // –º–∏–Ω–∏–º—É–º 6 –±—É–∫–≤ –¥–ª—è –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Å–ª–æ–≤
                    word.length <= 16 && // –º–∞–∫—Å–∏–º—É–º 16 –±—É–∫–≤
                    !boringWords.has(word) && // –Ω–µ —Å–∫—É—á–Ω—ã–µ
                    /^[a-z]+$/.test(word) // —Ç–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –±—É–∫–≤—ã
                );
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–ª–∏–Ω–µ (–¥–ª–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ)
            const sortedWords = words.sort((a, b) => b.length - a.length);
            
            // –£–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã –∏ –±–µ—Ä–µ–º —Å–∞–º—ã–µ –¥–ª–∏–Ω–Ω—ã–µ
            const uniqueWords = [...new Set(sortedWords)];
            
            // –ë–µ—Ä–µ–º —Ç–æ–ø —Å–ª–æ–≤–∞ –ø–æ –¥–ª–∏–Ω–µ –∏ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º
            return uniqueWords.slice(0, 15);
        }


        function clearDiscoveryAnimations() {
            // –û—á–∏—â–∞–µ–º –≤—Å–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
            if (window.letterRainInterval) {
                clearInterval(window.letterRainInterval);
            }
            if (window.discoveryWordsInterval) {
                clearInterval(window.discoveryWordsInterval);
            }
            
            // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
            const sparklesBg = document.getElementById('sparklesBg');
            const lettersRain = document.getElementById('lettersRain');
            const wordDiscovery = document.getElementById('wordDiscovery');
            
            if (sparklesBg) sparklesBg.innerHTML = '';
            if (lettersRain) lettersRain.innerHTML = '';
            
            // –û—á–∏—â–∞–µ–º —Ç–æ–ª—å–∫–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, —Å–æ—Ö—Ä–∞–Ω—è—è —Å—Ç–∞—Ç–∏—á–Ω—ã–µ
            if (wordDiscovery) {
                const dynamicWords = wordDiscovery.querySelectorAll('.flying-word');
                dynamicWords.forEach(word => word.remove());
            }
        }

        async function analyzeText() {
            const textInput = document.getElementById('textInput');
            const text = textInput.value.trim();
            const button = document.querySelector('.button');
            const errorDiv = document.getElementById('error');
            const resultsDiv = document.getElementById('results');

            if (!text) {
                showError('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞');
                return;
            }

            button.disabled = true;
            button.textContent = 'üîÑ –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é...';
            errorDiv.style.display = 'none';
            resultsDiv.style.display = 'none';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ —Å —Ä–µ–∞–ª—å–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
            showLoadingAnimation(text);

            try {
                const response = await fetch('/analyze', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ text: text })
                });

                const data = await response.json();

                if (data.success) {
                    showResults(data);
                } else {
                    showError(data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞');
                }
            } catch (error) {
                showError('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º');
            } finally {
                // –°–∫—Ä—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏
                hideLoadingAnimation();
                
                button.disabled = false;
                button.textContent = 'üîç –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å';
            }
        }

        function showError(message) {
            const errorDiv = document.getElementById('error');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }

        function showResults(data) {
            console.log('Full response data:', JSON.stringify(data, null, 2));
            
            const highlightsList = document.getElementById('highlightsList');
            highlightsList.innerHTML = `<p style="color:#718096;margin-bottom:24px">–ù–∞–π–¥–µ–Ω–æ ${data.stats.total_highlights} —Ö–∞–π–ª–∞–π—Ç–æ–≤ –∏–∑ ${data.stats.total_words} —Å–ª–æ–≤</p>`;

            data.highlights.forEach((highlight, index) => {
                console.log(`Processing highlight ${index + 1}:`, {
                    highlight: highlight.highlight,
                    context: highlight.context,
                    translation: highlight.context_translation
                });
                const item = document.createElement('div');
                item.className = 'highlight-item';
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≤–∞–ª–∏–¥–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
                const hasValidMeanings = highlight.dictionary_meanings && 
                    highlight.dictionary_meanings.length > 0;
                
                const meaningsHtml = hasValidMeanings 
                    ? `<div class="highlight-meaning">
                         <strong>–î—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:</strong> ${highlight.dictionary_meanings.join('; ')}
                       </div>`
                    : '';
                
                // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º —Ö–∞–π–ª–∞–π—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∏ –ø—Ä–∏–º–µ—Ä–∞—Ö
                function highlightWord(text, word) {
                    if (!text || !word) return text;
                    try {
                        console.log('=== HIGHLIGHTING DEBUG ===');
                        console.log('Word to highlight:', JSON.stringify(word));
                        console.log('Text to search in:', JSON.stringify(text));
                        
                        // –û—á–∏—Å—Ç–∫–∞ —Å–ª–æ–≤–∞ –æ—Ç –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
                        const cleanWord = word.trim().toLowerCase();
                        const cleanText = text.toLowerCase();
                        
                        console.log('Clean word:', JSON.stringify(cleanWord));
                        console.log('Text contains word?', cleanText.includes(cleanWord));
                        
                        // –ï—Å–ª–∏ —ç—Ç–æ —Ñ—Ä–∞–∑–∞, –ø—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
                        if (word.includes(' ')) {
                            console.log('Processing as phrase...');
                            
                            // 1. –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ñ—Ä–∞–∑—ã
                            let escapedWord = word.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                            let regex = new RegExp(escapedWord, 'gi');
                            let result = text.replace(regex, `<span class="highlighted-word">${word}</span>`);
                            if (result !== text) {
                                console.log('‚úì Full phrase found and highlighted');
                                return result;
                            }
                            
                            // 2. –ü–æ–ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ –∫–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ —Ñ—Ä–∞–∑—ã –æ—Ç–¥–µ–ª—å–Ω–æ
                            const words = word.split(' ');
                            console.log('Phrase words:', words);
                            
                            for (const w of words) {
                                if (w.trim().length > 2) {
                                    result = highlightWord(text, w.trim());
                                    if (result !== text) {
                                        console.log('‚úì Found word from phrase:', w);
                                        return result;
                                    }
                                }
                            }
                        }
                        
                        // –î–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–ª–æ–≤ - –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–∏—Å–∫–∞
                        console.log('Processing as single word...');
                        
                        // 1. –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ —Å–ª–æ–≤
                        let escapedWord = cleanWord.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                        let regex = new RegExp(`\\b${escapedWord}\\b`, 'gi');
                        let result = text.replace(regex, `<span class="highlighted-word">${cleanWord}</span>`);
                        if (result !== text) {
                            console.log('‚úì Exact word match found');
                            return result;
                        }
                        
                        // 2. –ü–æ–∏—Å–∫ –±–µ–∑ –≥—Ä–∞–Ω–∏—Ü —Å–ª–æ–≤ (–º–æ–∂–µ—Ç –±—ã—Ç—å —á–∞—Å—Ç—å—é –¥—Ä—É–≥–æ–≥–æ —Å–ª–æ–≤–∞)
                        regex = new RegExp(escapedWord, 'gi');
                        result = text.replace(regex, `<span class="highlighted-word">${cleanWord}</span>`);
                        if (result !== text) {
                            console.log('‚úì Partial word match found');
                            return result;
                        }
                        
                        // 3. –ü–æ–∏—Å–∫ –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É word (–µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç cleanWord)
                        if (word.trim() !== cleanWord) {
                            console.log('Trying original word case:', word.trim());
                            escapedWord = word.trim().replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                            regex = new RegExp(`\\b${escapedWord}\\b`, 'gi');
                            result = text.replace(regex, `<span class="highlighted-word">${word.trim()}</span>`);
                            if (result !== text) {
                                console.log('‚úì Original case match found');
                                return result;
                            }
                        }
                        
                        console.log('‚úó NO MATCH FOUND');
                        console.log('=============================');
                        return text;
                    } catch(e) {
                        console.log('Highlight error:', e, 'word:', word);
                        return text;
                    }
                }
                
                const contextWithHighlight = highlightWord(highlight.context, highlight.highlight);
                
                item.innerHTML = `
                    <div class="highlight-word">
                        ${index + 1}. ${highlight.highlight}
                    </div>
                    <div class="highlight-translation">${highlight.context_translation}</div>
                    ${meaningsHtml}
                    <div class="highlight-context">"${contextWithHighlight}"</div>
                `;
                highlightsList.appendChild(item);
            });

            document.getElementById('results').style.display = 'block';
        }

        // –ê–Ω–∞–ª–∏–∑ –ø–æ Ctrl+Enter
        document.getElementById('textInput').addEventListener('keypress', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                analyzeText();
            }
        });
    </script>
</body>
</html>