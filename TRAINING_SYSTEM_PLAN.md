# –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–∏—Å—Ç–µ–º—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å–ª–æ–≤ –¥–ª—è Wordoorio

**–î–∞—Ç–∞:** 10 –¥–µ–∫–∞–±—Ä—è 2024 (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 19 –¥–µ–∫–∞–±—Ä—è 2024)
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–ø–æ—Å–ª–µ Agent Refactoring)
**–í–µ—Ä—Å–∏—è:** 3.0 (–∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å —É—á–µ—Ç–æ–º –æ–ø—ã—Ç–∞ Yandex AI Studio –∏ –¥–µ–ø–ª–æ—è)

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Ä–µ—à–µ–Ω–∏—è)
3. [–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö](#–∏–∑–º–µ–Ω–µ–Ω–∏—è-–≤-–±–∞–∑–µ-–¥–∞–Ω–Ω—ã—Ö)
4. [–ê–ª–≥–æ—Ä–∏—Ç–º –æ—Ç–±–æ—Ä–∞ —Å–ª–æ–≤](#–∞–ª–≥–æ—Ä–∏—Ç–º-–æ—Ç–±–æ—Ä–∞-—Å–ª–æ–≤)
5. [–°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ —Å—Ç–∞—Ç—É—Å–æ–≤](#—Å–∏—Å—Ç–µ–º–∞-—Ä–µ–π—Ç–∏–Ω–≥–∞-–∏-—Å—Ç–∞—Ç—É—Å–æ–≤)
6. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex AI](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-yandex-ai)
7. [–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–æ–≤](#—Å–∏—Å—Ç–µ–º–∞-—Ç–µ—Å—Ç–æ–≤)
8. [Telegram Bot](#telegram-bot)
9. [–î–µ–ø–ª–æ–π–º–µ–Ω—Ç](#–¥–µ–ø–ª–æ–π–º–µ–Ω—Ç)
10. [–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#–ø–ª–∞–Ω-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
11. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-—Ä–∏—Å–∫–∏)

---

## üö® –ö–õ–Æ–ß–ï–í–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø (–≤–µ—Ä—Å–∏—è 3.0)

### ‚úÖ –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å —É—á–µ—Ç–æ–º –æ–ø—ã—Ç–∞ —Ä–∞–±–æ—Ç—ã —Å Yandex AI Studio:

1. **–ê–≥–µ–Ω—Ç #3 –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤**
   - ‚úÖ –£–ñ–ï —Å–æ–∑–¥–∞–Ω –≤ Yandex AI Studio (ID: `fvtludf1115lb39bei78`)
   - ‚úÖ –ü—Ä–æ–º–ø—Ç –£–ñ–ï –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ AI Studio (–Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å)
   - ‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Assistant API REST, –ù–ï foundationModels API

2. **–ú–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤**
   - ‚ùå ~~–ú–µ—Ç–æ–¥ `generate_test_options()` –£–ñ–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω~~ (–ù–ï–¢, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å!)
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Assistant API: `https://rest-assistant.api.cloud.yandex.net/v1/responses`
   - ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: `Authorization: Api-Key {api_key}` (–ù–ï Bearer IAM!)
   - ‚úÖ Async –º–µ—Ç–æ–¥ —Å `aiohttp`, timeout 120s

3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Production)**
   - ‚úÖ `YANDEX_FOLDER_ID` - folder ID
   - ‚úÖ `YANDEX_CLOUD_API_KEY` - API –∫–ª—é—á (–ù–ï IAM —Ç–æ–∫–µ–Ω!)
   - ‚úÖ `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
   - ‚ö†Ô∏è –í—Å–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `--environment` –≤ GitHub Actions

4. **–î–µ–ø–ª–æ–π–º–µ–Ω—Ç**
   - ‚úÖ GitHub Actions —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ production)
   - ‚úÖ Yandex Serverless Container (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)
   - ‚ö†Ô∏è Telegram Bot –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å (supervisord –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)

---

## üìä –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

### –¶–µ–ª—å
–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –û—Ç–±–æ—Ä —Å–ª–æ–≤ –ø–æ 8-—à–∞–≥–æ–≤–æ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É (—Å –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–µ–π)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ —Å 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤ (1 –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π + 3 –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç AI)
- –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Å–ª–æ–≤ (0-10)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å—Ç–∞—Ç—É—Å–∞–º–∏ (new ‚Üí learning ‚Üí learned)
- Telegram –±–æ—Ç —Å inline-–∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–ª–æ–≤–∞–º

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Telegram –±–æ—Ç @wordoorio_bot
2. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–ù–ê–ß–ê–¢–¨"
3. –°–∏—Å—Ç–µ–º–∞ –æ—Ç–±–∏—Ä–∞–µ—Ç 8 —Å–ª–æ–≤ –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª–æ–≤–∞ –≤ Yandex AI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
5. –°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
6. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–≤—ã–π —Ç–µ—Å—Ç –≤ –±–æ—Ç (—Å–ª–æ–≤–æ + 4 –∫–Ω–æ–ø–∫–∏ —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏)
7. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –æ—Ç–≤–µ—Ç
8. –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ —Å–ª–æ–≤–∞ –∏ —Å—Ç–∞—Ç—É—Å
9. –£–¥–∞–ª—è–µ—Ç —Ä–µ—à–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç –∏–∑ –ë–î
10. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ—Å—Ç
11. –ü–æ—Å–ª–µ –≤—Å–µ—Ö 8 —Ç–µ—Å—Ç–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–ù–ê–ß–ê–¢–¨" —Å–Ω–æ–≤–∞

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           TELEGRAM BOT                      ‚îÇ
‚îÇ    (python-telegram-bot, polling mode)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         BUSINESS LOGIC LAYER                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ  TrainingService                    ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - select_words_for_training()      ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - 8-—à–∞–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –æ—Ç–±–æ—Ä–∞        ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ  TestManager                        ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - create_tests_batch()             ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - submit_answer()                  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - get_pending_tests()              ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         EXTERNAL SERVICES                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ  YandexAIClient                     ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - generate_test_options() (async)   ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  Model: gpt://...yandexgpt/rc       ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         DATA LAYER                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ  WordoorioDatabase (SQLite)         ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - dictionary_words (—Ä–∞—Å—à–∏—Ä–µ–Ω–∞)     ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - user_training_state (–Ω–æ–≤–∞—è)      ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - tests (–Ω–æ–≤–∞—è)                    ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - word_test_statistics (–Ω–æ–≤–∞—è)     ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/Wordoorio/
‚îú‚îÄ‚îÄ telegram_bot.py              # ‚≠ê –ù–û–í–´–ô - Telegram bot (polling mode)
‚îú‚îÄ‚îÄ web_app.py                   # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π Flask app
‚îú‚îÄ‚îÄ database.py                  # ‚úèÔ∏è –ò–ó–ú–ï–ù–ò–¢–¨ - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã/–º–µ—Ç–æ–¥—ã
‚îú‚îÄ‚îÄ requirements.txt             # ‚úèÔ∏è –ò–ó–ú–ï–ù–ò–¢–¨ - –¥–æ–±–∞–≤–∏—Ç—å python-telegram-bot
‚îÇ
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ training_service.py      # ‚≠ê –ù–û–í–´–ô - –ê–ª–≥–æ—Ä–∏—Ç–º –æ—Ç–±–æ—Ä–∞ —Å–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ test_manager.py          # ‚≠ê –ù–û–í–´–ô - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ yandex_ai_client.py      # ‚úÖ –£–ñ–ï –ì–û–¢–û–í (–∏–∑ Agent Refactoring) - generate_test_options()
‚îÇ   ‚îú‚îÄ‚îÄ analysis_service.py      # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ dictionary_manager.py    # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ auth_manager.py          # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π
‚îÇ
‚îî‚îÄ‚îÄ wordoorio.db                 # –û–±—â–∞—è –ë–î –¥–ª—è Flask –∏ Bot
```

### –î–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞

1. **Flask app** (–ø–æ—Ä—Ç 8080)
   ```bash
   gunicorn --bind 0.0.0.0:8080 web_app:app
   ```

2. **Telegram bot** (polling)
   ```bash
   python telegram_bot.py
   ```

**–í–∞–∂–Ω–æ:** –û–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É SQLite –ë–î (`wordoorio.db`)

---

## üóÑÔ∏è –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### 1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `dictionary_words`

**–î–æ–±–∞–≤–ª—è–µ–º—ã–µ –ø–æ–ª—è:**

```sql
ALTER TABLE dictionary_words ADD COLUMN rating INTEGER DEFAULT 0;
ALTER TABLE dictionary_words ADD COLUMN last_rating_change TEXT;
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- `rating` - —Ä–µ–π—Ç–∏–Ω–≥ —Å–ª–æ–≤–∞ –æ—Ç 0 –¥–æ 10 (—É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö, –æ–±–Ω—É–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö)
- `last_rating_change` - timestamp –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞ (–¥–ª—è –æ—Ç–±–æ—Ä–∞ —Å–ª–æ–≤ –ø–æ —à–∞–≥—É 5)

**–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:**
| id | user_id | lemma | status | rating | last_rating_change |
|----|---------|-------|--------|--------|--------------------|
| 1  | 123     | sophisticated | learning | 7 | 2024-12-10T14:30:00 |
| 2  | 123     | compelling | new | 0 | NULL |
| 3  | 123     | scrutinize | learned | 10 | 2024-12-09T10:15:00 |

---

### 2. –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `user_training_state`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ 8-—à–∞–≥–æ–≤–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ –æ—Ç–±–æ—Ä–∞.

**–°—Ö–µ–º–∞:**
```sql
CREATE TABLE user_training_state (
    user_id INTEGER PRIMARY KEY,
    last_selection_position INTEGER DEFAULT 1,
    last_training_at TEXT,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

**–ü–æ–ª—è:**
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (FK ‚Üí users.id)
- `last_selection_position` - –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–∑–∏—Ü–∏—è –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–µ (1-8)
- `last_training_at` - timestamp –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å—á–µ—Ç—á–∏–∫–∞:**
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ 8 —Å–ª–æ–≤: –æ—Ç–±–∏—Ä–∞–µ–º —Å –ø–æ–∑–∏—Ü–∏–∏ `last_selection_position`, –∑–∞—Ç–µ–º –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø–æ –∫—Ä—É–≥—É
- –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –ü—Ä–∏–º–µ—Ä: –±—ã–ª–æ 3 ‚Üí –æ—Ç–æ–±—Ä–∞–ª–∏ 8 —Å–ª–æ–≤ (—à–∞–≥–∏ 3,4,5,6,7,8,1,2) ‚Üí —Å—Ç–∞–ª–æ 3 (–ø—Ä–æ–¥–æ–ª–∂–∏–º —Å 3)

**–ó–∞—á–µ–º:** –ß—Ç–æ–±—ã –Ω–µ "–∑–∞—Å—Ç—Ä–µ–≤–∞—Ç—å" –Ω–∞ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ —Å–ª–æ–≤–∞—Ö, —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É.

---

### 3. –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `tests`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ (—Ä–µ—à–µ–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞).

**–°—Ö–µ–º–∞:**
```sql
CREATE TABLE tests (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    word_id INTEGER NOT NULL,
    word TEXT NOT NULL,
    correct_translation TEXT NOT NULL,
    wrong_option_1 TEXT NOT NULL,
    wrong_option_2 TEXT NOT NULL,
    wrong_option_3 TEXT NOT NULL,
    created_at TEXT NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (word_id) REFERENCES dictionary_words(id)
);

CREATE INDEX idx_tests_user ON tests(user_id);
```

**–ü–æ–ª—è:**
- `id` - ID —Ç–µ—Å—Ç–∞
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `word_id` - ID —Å–ª–æ–≤–∞ –≤ —Å–ª–æ–≤–∞—Ä–µ
- `word` - –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ —Å–ª–æ–≤–æ
- `correct_translation` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥
- `wrong_option_1/2/3` - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç AI
- `created_at` - timestamp —Å–æ–∑–¥–∞–Ω–∏—è

**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª:**
1. –°–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ù–ê–ß–ê–¢–¨" (8 –∑–∞–ø–∏—Å–µ–π)
2. –•—Ä–∞–Ω–∏—Ç—Å—è –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ç–µ—Å—Ç—ã
3. –£–¥–∞–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ)

**–û—á–∏—Å—Ç–∫–∞:** –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫—É—é –æ—á–∏—Å—Ç–∫—É "–∑–∞–±—ã—Ç—ã—Ö" —Ç–µ—Å—Ç–æ–≤ (—Å—Ç–∞—Ä—à–µ 24 —á–∞—Å–æ–≤).

---

### 4. –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `word_test_statistics`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–µ—Å—Ç–∞–º (–¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π).

**–°—Ö–µ–º–∞:**
```sql
CREATE TABLE word_test_statistics (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    word_id INTEGER NOT NULL,
    total_tests INTEGER DEFAULT 0,
    correct_answers INTEGER DEFAULT 0,
    wrong_answers INTEGER DEFAULT 0,
    last_test_at TEXT,
    last_result BOOLEAN,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (word_id) REFERENCES dictionary_words(id),
    UNIQUE(user_id, word_id)
);

CREATE INDEX idx_stats_user_word ON word_test_statistics(user_id, word_id);
```

**–ü–æ–ª—è:**
- `total_tests` - –≤—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ
- `correct_answers` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- `wrong_answers` - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- `last_test_at` - –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ç–µ—Å—Ç
- `last_result` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ—Å—Ç–∞ (TRUE/FALSE)

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ–º `INSERT ... ON CONFLICT DO UPDATE`).

**–ó–∞—á–µ–º:**
- –ú–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é "–¢—ã –æ—à–∏–±–∞–ª—Å—è –≤ —ç—Ç–æ–º —Å–ª–æ–≤–µ 3 —Ä–∞–∑–∞"
- –ú–æ–∂–Ω–æ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–ª–æ–≤–∞ –≤ –±—É–¥—É—â–µ–º
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞

---

## üéØ –ê–ª–≥–æ—Ä–∏—Ç–º –æ—Ç–±–æ—Ä–∞ —Å–ª–æ–≤

### 8-—à–∞–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ N —Å–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 8) —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ —à–∞–≥–∞–º —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏:

**–®–∞–≥ 1:** –ù–æ–≤–æ–µ —Å–ª–æ–≤–æ, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –ø–æ—Å–ª–µ–¥–Ω–∏–º
```sql
SELECT * FROM dictionary_words
WHERE user_id = ? AND status = 'new'
ORDER BY added_at DESC
LIMIT ?
```

**–®–∞–≥ 2:** –°–ª–æ–≤–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—É—á–µ–Ω–∏—è (–ø–æ –¥–∞–≤–Ω–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–∞)
```sql
SELECT * FROM dictionary_words
WHERE user_id = ? AND status = 'learning'
ORDER BY last_reviewed_at ASC
LIMIT ?
```

**–®–∞–≥ 3:** –ù–æ–≤–æ–µ —Å–ª–æ–≤–æ, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –¥–∞–≤–Ω–µ–µ –≤—Å–µ–≥–æ
```sql
SELECT * FROM dictionary_words
WHERE user_id = ? AND status = 'new'
ORDER BY added_at ASC
LIMIT ?
```

**–®–∞–≥ 4:** –°–ª–æ–≤–æ learning —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–æ–π (—Ä–∞–Ω–¥–æ–º–Ω–æ —Å—Ä–µ–¥–∏ —Ä–∞–≤–Ω—ã—Ö)
```sql
-- –ù–∞—Ö–æ–¥–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥
SELECT MAX(rating) FROM dictionary_words
WHERE user_id = ? AND status = 'learning'

-- –ë–µ—Ä–µ–º –≤—Å–µ —Å —ç—Ç–∏–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º –∏ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä—É–µ–º
SELECT * FROM dictionary_words
WHERE user_id = ? AND status = 'learning' AND rating = ?
ORDER BY RANDOM()
LIMIT ?
```

**–®–∞–≥ 5:** –°–ª–æ–≤–æ, –æ–±–Ω—É–ª–∏–≤—à–µ–µ –æ—Ü–µ–Ω–∫—É –ø–æ—Å–ª–µ–¥–Ω–µ–π
```sql
SELECT * FROM dictionary_words
WHERE user_id = ? AND status = 'learning' AND rating = 0
ORDER BY last_rating_change DESC
LIMIT ?
```

**–®–∞–≥ 6:** –°–ª–æ–≤–æ learning —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–æ–π (–¥—É–±–ª–∏–∫–∞—Ç —à–∞–≥–∞ 4)
```sql
-- –ù–∞–º–µ—Ä–µ–Ω–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å—Ç–∏–º—É–ª—è—Ü–∏–∏ —á–∞—Å—Ç–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–∞ —É—Å–ø–µ—à–Ω—ã—Ö —Å–ª–æ–≤
-- –ò–¥–µ–Ω—Ç–∏—á–µ–Ω —à–∞–≥—É 4
```

**–®–∞–≥ 7:** –ù–æ–≤–æ–µ —Å–ª–æ–≤–æ, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –¥–∞–≤–Ω–µ–µ –≤—Å–µ–≥–æ (–¥—É–±–ª–∏–∫–∞—Ç —à–∞–≥–∞ 3)
```sql
-- –ù–∞–º–µ—Ä–µ–Ω–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑–æ–≥—Ä–µ–≤–∞ –Ω–∞–∫–æ–ø–∏–≤—à–∏—Ö—Å—è —Å–ª–æ–≤
-- –ò–¥–µ–Ω—Ç–∏—á–µ–Ω —à–∞–≥—É 3
```

**–®–∞–≥ 8:** –†–∞–Ω–¥–æ–º–Ω–æ–µ —Å–ª–æ–≤–æ –∏–∑ –≤—ã—É—á–µ–Ω–Ω—ã—Ö
```sql
SELECT * FROM dictionary_words
WHERE user_id = ? AND status = 'learned'
ORDER BY RANDOM()
LIMIT ?
```

### –õ–æ–≥–∏–∫–∞ —Å—á–µ—Ç—á–∏–∫–∞

**–ü—Ä–∏–º–µ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–æ—Å–∏–ª 10 —Å–ª–æ–≤, –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è = 3

1. –û—Ç–±–∏—Ä–∞–µ–º —Å–æ **—à–∞–≥–∞ 3** (–Ω–æ–≤–æ–µ –¥–∞–≤–Ω–µ–µ) ‚Üí –ø–æ–ª—É—á–∏–ª–∏ 2 —Å–ª–æ–≤–∞
2. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **—à–∞–≥—É 4** (learning –º–∞–∫—Å) ‚Üí –ø–æ–ª—É—á–∏–ª–∏ 3 —Å–ª–æ–≤–∞
3. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **—à–∞–≥—É 5** (–æ–±–Ω—É–ª–∏–≤—à–µ–µ) ‚Üí –ø–æ–ª—É—á–∏–ª–∏ 0 —Å–ª–æ–≤ (–ø—Ä–æ–ø—É—Å–∫–∞–µ–º)
4. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **—à–∞–≥—É 6** (learning –º–∞–∫—Å) ‚Üí –ø–æ–ª—É—á–∏–ª–∏ 3 —Å–ª–æ–≤–∞
5. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **—à–∞–≥—É 7** (–Ω–æ–≤–æ–µ –¥–∞–≤–Ω–µ–µ) ‚Üí –ø–æ–ª—É—á–∏–ª–∏ 2 —Å–ª–æ–≤–∞
6. **–ò—Ç–æ–≥–æ:** 10 —Å–ª–æ–≤ (2+3+0+3+2)
7. **–°–ª–µ–¥—É—é—â–∞—è –ø–æ–∑–∏—Ü–∏—è:** 8 (–ø—Ä–æ–¥–æ–ª–∂–∏–º —Å —à–∞–≥–∞ 8 –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—Ä–æ—Å–µ)

**–ï—Å–ª–∏ —Å–ª–æ–≤ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç:** –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏ (–ø–æ—Å–ª–µ —à–∞–≥–∞ 8 ‚Üí —à–∞–≥ 1).

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏:** –û–±–Ω–æ–≤–ª—è–µ–º `user_training_state.last_selection_position`.

---

## üìà –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ —Å—Ç–∞—Ç—É—Å–æ–≤

### –†–µ–π—Ç–∏–Ω–≥ —Å–ª–æ–≤–∞

**–®–∫–∞–ª–∞:** 0 - 10

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:**
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:** `rating = rating + 1`
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:** `rating = 0` (–æ–±–Ω—É–ª–µ–Ω–∏–µ)

**–ü—Ä–∏–º–µ—Ä:**
```
–°–ª–æ–≤–æ: sophisticated
–ù–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥: 0

–¢–µ—Å—Ç 1: ‚úÖ ‚Üí —Ä–µ–π—Ç–∏–Ω–≥ 1
–¢–µ—Å—Ç 2: ‚úÖ ‚Üí —Ä–µ–π—Ç–∏–Ω–≥ 2
–¢–µ—Å—Ç 3: ‚úÖ ‚Üí —Ä–µ–π—Ç–∏–Ω–≥ 3
–¢–µ—Å—Ç 4: ‚ùå ‚Üí —Ä–µ–π—Ç–∏–Ω–≥ 0 (–æ–±–Ω—É–ª–∏–ª—Å—è!)
–¢–µ—Å—Ç 5: ‚úÖ ‚Üí —Ä–µ–π—Ç–∏–Ω–≥ 1
...
```

### –ü–µ—Ä–µ—Ö–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤

**–°—Ç–∞—Ç—É—Å—ã —Å–ª–æ–≤–∞:**
1. `new` - –Ω–æ–≤–æ–µ —Å–ª–æ–≤–æ (—Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å–ª–æ–≤–∞—Ä—å)
2. `learning` - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–∑—É—á–µ–Ω–∏—è
3. `learned` - –≤—ã—É—á–µ–Ω–æ

**–ü—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:**

```
new ‚Üí learning
  –£—Å–ª–æ–≤–∏–µ: –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ç–µ—Å—Ç–∞ (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞)

learning ‚Üí learned
  –£—Å–ª–æ–≤–∏–µ: rating >= 10 (10 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–¥—Ä—è–¥)

learned ‚Üí learning
  –£—Å–ª–æ–≤–∏–µ: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ —Ç–µ—Å—Ç–µ (–æ—Ç–∫–∞—Ç –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è)
```

**–î–∏–∞–≥—Ä–∞–º–º–∞:**
```
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ new ‚îÇ
   ‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îò
      ‚îÇ –ü–µ—Ä–≤—ã–π —Ç–µ—Å—Ç
      ‚Üì
 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
 ‚îÇ learning ‚îÇ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
 ‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ
    ‚îÇ rating >= 10      ‚îÇ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
    ‚Üì                   ‚îÇ –æ—Ç–≤–µ—Ç
 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
 ‚îÇ learned ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –ø—Ä–∏ —Ç–µ—Å—Ç–µ:**
```python
if word.status == 'new':
    word.status = 'learning'

if is_correct:
    word.rating += 1
else:
    word.rating = 0
    word.last_rating_change = now()

if word.status == 'learning' and word.rating >= 10:
    word.status = 'learned'

if word.status == 'learned' and not is_correct:
    word.status = 'learning'

word.last_reviewed_at = now()
```

---

## ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex AI (–û–ë–ù–û–í–õ–ï–ù–û v2.0)

### –ê–≥–µ–Ω—Ç #3 –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ê–≥–µ–Ω—Ç –£–ñ–ï —Å–æ–∑–¥–∞–Ω –≤ Yandex AI Studio, –ø—Ä–æ–º–ø—Ç –£–ñ–ï –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ç–∞–º!

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- **URI:** `gpt://b1gcdpfvt5vkfn3o9nm1/gpt-oss-120b/latest`
- **Agent ID:** `fvtludf1115lb39bei78`
- **–ú–æ–¥–µ–ª—å:** gpt-oss-120b (–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
- **–ü—Ä–æ–º–ø—Ç:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –≤ Yandex AI Studio (–Ω–µ –≤ –∫–æ–¥–µ!)

**–ú–µ—Ç–æ–¥ –≤ `YandexAIClient` (–Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å):**
```python
async def generate_test_options(
    self,
    words_with_translations: List[Dict]
) -> Dict:
    """
    –í—ã–∑–æ–≤ –ê–≥–µ–Ω—Ç–∞ #3 (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤) —á–µ—Ä–µ–∑ Assistant API

    ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Assistant API REST, –ù–ï foundationModels API!

    Args:
        words_with_translations: [
            {
                "word": "sophisticated",
                "correct_translation": "—É—Ç–æ–Ω—á—ë–Ω–Ω—ã–π"
            },
            ...
        ]

    Returns:
        {
            "tests": [
                {
                    "word": "sophisticated",
                    "correct_translation": "—É—Ç–æ–Ω—á—ë–Ω–Ω—ã–π",
                    "wrong_options": ["—Å–ª–æ–∂–Ω—ã–π", "–∏–∑–æ—â—Ä–µ–Ω–Ω—ã–π", "–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π"]
                },
                ...
            ]
        }
    """
    # ID –∞–≥–µ–Ω—Ç–∞ #3 –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
    agent_id = "fvtludf1115lb39bei78"

    # –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    user_input = json.dumps({"words": words_with_translations}, ensure_ascii=False)

    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Assistant API REST (aiohttp + async)
    url = "https://rest-assistant.api.cloud.yandex.net/v1/responses"

    async with aiohttp.ClientSession() as session:
        async with session.post(
            url,
            headers={
                "Authorization": f"Api-Key {self.api_key}",  # –ù–ï Bearer!
                "x-folder-id": self.folder_id,
                "Content-Type": "application/json"
            },
            json={
                "prompt": {"id": agent_id},  # ID –∞–≥–µ–Ω—Ç–∞
                "input": user_input           # –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            },
            timeout=aiohttp.ClientTimeout(total=120)  # 120s –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
        ) as response:
            if response.status != 200:
                raise Exception(f"Agent API error: {response.status}")

            result = await response.json()

            # –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞
            response_text = result['output'][0]['content'][0]['text']

            # –ü–∞—Ä—Å–∏–º JSON –∏–∑ –æ—Ç–≤–µ—Ç–∞
            return json.loads(response_text)
```

### –§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞ –∫ –º–æ–¥–µ–ª–∏

```json
{
  "words": [
    {
      "word": "sophisticated",
      "correct_translation": "—É—Ç–æ–Ω—á—ë–Ω–Ω—ã–π"
    },
    {
      "word": "compelling argument",
      "correct_translation": "—É–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç"
    }
  ]
}
```

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç –º–æ–¥–µ–ª–∏

```json
{
  "tests": [
    {
      "word": "sophisticated",
      "correct_translation": "—É—Ç–æ–Ω—á—ë–Ω–Ω—ã–π",
      "wrong_options": [
        "—Å–ª–æ–∂–Ω—ã–π",
        "–∏–∑–æ—â—Ä–µ–Ω–Ω—ã–π",
        "–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π"
      ]
    },
    {
      "word": "compelling argument",
      "correct_translation": "—É–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç",
      "wrong_options": [
        "–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç",
        "–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –¥–æ–≤–æ–¥",
        "—Å–∏–ª—å–Ω–æ–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ"
      ]
    }
  ]
}
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–∞–º

1. **–ü—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω–æ—Å—Ç—å:** –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ—Ö–æ–∂–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥
2. **–û—à–∏–±–æ—á–Ω–æ—Å—Ç—å:** –ù–æ —è–≤–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
3. **–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ:** –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ, —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ)
4. **–ù–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ:** –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º

**–ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:**
- –°–ª–æ–≤–æ: `sophisticated`
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ: `—É—Ç–æ–Ω—á—ë–Ω–Ω—ã–π`
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: `—Å–ª–æ–∂–Ω—ã–π` (–±–ª–∏–∑–∫–æ, –Ω–æ –Ω–µ —Ç–æ), `–∏–∑–æ—â—Ä–µ–Ω–Ω—ã–π` (–ø–æ—Ö–æ–∂–µ), `–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π` (–¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)

**–ü—Ä–∏–º–µ—Ä –ø–ª–æ—Ö–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:**
- ‚ùå `—Å–æ–±–∞–∫–∞`, `—Å—Ç–æ–ª`, `—è–±–ª–æ–∫–æ` (—Å–ª–∏—à–∫–æ–º –æ—á–µ–≤–∏–¥–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

---

## üß™ –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**–ú–µ—Ç–æ–¥:** `TestManager.create_tests_batch(user_id, words)`

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Å–ª–æ–≤ –∏–∑ –ë–î
2. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è Yandex AI
3. –í—ã–∑–≤–∞—Ç—å `YandexAIClient.generate_test_options()` (async)
4. –ü–æ–ª—É—á–∏—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ—Å—Ç—ã –≤ —Ç–∞–±–ª–∏—Ü—É `tests`
6. –í–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ `test_id`

**–ö–æ–¥ (–ø—Å–µ–≤–¥–æ–∫–æ–¥):**
```python
def create_tests_batch(user_id, words):
    # 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    words_data = []
    for word in words:
        translation = get_translation(word['id'])  # –ò–∑ dictionary_translations
        words_data.append({
            'word': word['lemma'],
            'correct_translation': translation
        })

    # 2. –ó–∞–ø—Ä–æ—Å –∫ AI (async!)
    response = await yandex_client.generate_test_options(words_data)

    # 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
    test_ids = []
    for test_data in response['tests']:
        test_id = db.insert_test(
            user_id=user_id,
            word_id=word['id'],
            word=test_data['word'],
            correct_translation=test_data['correct_translation'],
            wrong_option_1=test_data['wrong_options'][0],
            wrong_option_2=test_data['wrong_options'][1],
            wrong_option_3=test_data['wrong_options'][2],
            created_at=now()
        )
        test_ids.append(test_id)

    return test_ids
```

### –†–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤

**–ú–µ—Ç–æ–¥:** `TestManager.get_test_with_shuffled_options(test_id)`

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ—Å—Ç –∏–∑ –ë–î
2. –°–æ–∑–¥–∞—Ç—å –º–∞—Å—Å–∏–≤ –∏–∑ 4 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (1 –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π + 3 –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö)
3. –ü–µ—Ä–µ–º–µ—à–∞—Ç—å –º–∞—Å—Å–∏–≤ (`random.shuffle`)
4. –í–µ—Ä–Ω—É—Ç—å —Ç–µ—Å—Ç —Å –ø–µ—Ä–µ–º–µ—à–∞–Ω–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```python
{
    'test_id': 123,
    'word': 'sophisticated',
    'options': [
        {'text': '—Å–ª–æ–∂–Ω—ã–π', 'is_correct': False, 'index': 0},
        {'text': '—É—Ç–æ–Ω—á—ë–Ω–Ω—ã–π', 'is_correct': True, 'index': 1},
        {'text': '–∏–∑–æ—â—Ä–µ–Ω–Ω—ã–π', 'is_correct': False, 'index': 2},
        {'text': '–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π', 'is_correct': False, 'index': 3}
    ]
}
```

**–í–∞–∂–Ω–æ:** –ò–Ω–¥–µ–∫—Å –Ω—É–∂–µ–Ω –¥–ª—è `callback_data` –≤ –∫–Ω–æ–ø–∫–∞—Ö –±–æ—Ç–∞.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞

**–ú–µ—Ç–æ–¥:** `TestManager.submit_answer(test_id, selected_option_index)`

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ—Å—Ç –∏–∑ –ë–î
2. –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–º–µ—à–∞–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã (–ø–æ–≤—Ç–æ—Ä–Ω—ã–π shuffle —Å —Ç–µ–º –∂–µ seed? –Ω–µ—Ç, —Ö—Ä–∞–Ω–∏–º –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –±–æ—Ç–∞)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞
4. –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ –∏ —Å—Ç–∞—Ç—É—Å —Å–ª–æ–≤–∞ –≤ `dictionary_words`
5. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ `word_test_statistics`
6. **–£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç –∏–∑ `tests`**
7. –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```python
{
    'is_correct': True,
    'correct_translation': '—É—Ç–æ–Ω—á—ë–Ω–Ω—ã–π',
    'new_rating': 8,
    'new_status': 'learning'
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

**–ú–µ—Ç–æ–¥:** `TestManager.get_pending_tests(user_id)`

**–ó–∞–ø—Ä–æ—Å:**
```sql
SELECT * FROM tests
WHERE user_id = ?
ORDER BY created_at ASC
```

**–ó–∞—á–µ–º:** –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∞–ª —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É, –Ω–æ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª, –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ç–µ—Å—Ç—ã.

---

## üì± Telegram Bot

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `python-telegram-bot==20.8`

**–†–µ–∂–∏–º:** Polling (–±–æ—Ç —Å–∞–º –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç Telegram API)

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:**
1. `CommandHandler` –¥–ª—è `/start`
2. `CallbackQueryHandler` –¥–ª—è –∫–Ω–æ–ø–æ–∫

### –ö–æ–º–∞–Ω–¥–∞ /start

**–î–µ–π—Å—Ç–≤–∏–µ:**
```
–ü—Ä–∏–≤–µ—Ç! üëã

–ì–æ—Ç–æ–≤ –ø–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–ª–æ–≤–∞ –∏–∑ —Ç–≤–æ–µ–≥–æ —Å–ª–æ–≤–∞—Ä—è?

–ù–∞–∂–º–∏ –ù–ê–ß–ê–¢–¨ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∞ –∏–∑ 8 —Å–ª–æ–≤.

[–ö–Ω–æ–ø–∫–∞: –ù–ê–ß–ê–¢–¨ üöÄ]
```

**–ö–æ–¥:**
```python
async def start_command(update, context):
    keyboard = [[InlineKeyboardButton("–ù–ê–ß–ê–¢–¨ üöÄ", callback_data="start_training")]]
    reply_markup = InlineKeyboardMarkup(keyboard)

    await update.message.reply_text(
        "–ü—Ä–∏–≤–µ—Ç! üëã\n\n"
        "–ì–æ—Ç–æ–≤ –ø–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–ª–æ–≤–∞ –∏–∑ —Ç–≤–æ–µ–≥–æ —Å–ª–æ–≤–∞—Ä—è?\n\n"
        "–ù–∞–∂–º–∏ –ù–ê–ß–ê–¢–¨ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∞ –∏–∑ 8 —Å–ª–æ–≤.",
        reply_markup=reply_markup
    )
```

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ù–ê–ß–ê–¢–¨"

**Callback data:** `start_training`

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ü–æ–ª—É—á–∏—Ç—å `telegram_id` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ù–∞–π—Ç–∏ `user_id` –≤ –ë–î (—á–µ—Ä–µ–∑ `AuthManager.get_user_by_telegram_id()`)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (–µ—Å–ª–∏ –Ω–µ—Ç ‚Üí "–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –Ω–∞ wordoorio.ru")
4. –û—Ç–æ–±—Ä–∞—Ç—å 8 —Å–ª–æ–≤ (`TrainingService.select_words_for_training(user_id, 8)`)
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Å–ª–æ–≤ (–µ—Å–ª–∏ –Ω–µ—Ç ‚Üí "–î–æ–±–∞–≤—å—Ç–µ —Å–ª–æ–≤–∞ –≤ —Å–ª–æ–≤–∞—Ä—å")
6. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã (`TestManager.create_tests_batch(user_id, words)`)
7. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å `test_ids` –≤ `context.user_data`
8. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π —Ç–µ—Å—Ç

**–ö–æ–¥ (–ø—Å–µ–≤–¥–æ–∫–æ–¥):**
```python
async def start_training_callback(update, context):
    query = update.callback_query
    await query.answer()

    telegram_id = query.from_user.id
    user = auth_manager.get_user_by_telegram_id(telegram_id)

    if not user:
        await query.edit_message_text(
            "‚ùå –°–Ω–∞—á–∞–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –Ω–∞ —Å–∞–π—Ç–µ wordoorio.ru"
        )
        return

    words = training_service.select_words_for_training(user['id'], 8)

    if not words:
        await query.edit_message_text(
            "üìö –í —Ç–≤–æ–µ–º —Å–ª–æ–≤–∞—Ä–µ –ø–æ–∫–∞ –Ω–µ—Ç —Å–ª–æ–≤.\n\n"
            "–î–æ–±–∞–≤—å —Å–ª–æ–≤–∞ –Ω–∞ wordoorio.ru –∏ –≤–æ–∑–≤—Ä–∞—â–∞–π—Å—è!"
        )
        return

    test_ids = test_manager.create_tests_batch(user['id'], words)

    context.user_data['test_ids'] = test_ids
    context.user_data['current_test_index'] = 0

    await send_next_test(query, context)
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–∞

**–ú–µ—Ç–æ–¥:** `send_next_test(query_or_message, context)`

**–§–æ—Ä–º–∞—Ç —Ç–µ—Å—Ç–∞:**
```
üìù –¢–µ—Å—Ç 3/8

üá¨üáß sophisticated

–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥:

[–ö–Ω–æ–ø–∫–∞: —Å–ª–æ–∂–Ω—ã–π]
[–ö–Ω–æ–ø–∫–∞: —É—Ç–æ–Ω—á—ë–Ω–Ω—ã–π]
[–ö–Ω–æ–ø–∫–∞: –∏–∑–æ—â—Ä–µ–Ω–Ω—ã–π]
[–ö–Ω–æ–ø–∫–∞: –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π]
```

**Callback data –∫–Ω–æ–ø–æ–∫:** `answer_{test_id}_{option_index}`

–ü—Ä–∏–º–µ—Ä: `answer_123_1` (—Ç–µ—Å—Ç 123, –≤–∞—Ä–∏–∞–Ω—Ç 1)

**–ö–æ–¥ (–ø—Å–µ–≤–¥–æ–∫–æ–¥):**
```python
async def send_next_test(query_or_message, context):
    test_ids = context.user_data['test_ids']
    index = context.user_data['current_test_index']

    if index >= len(test_ids):
        # –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
        keyboard = [[InlineKeyboardButton("–ù–ê–ß–ê–¢–¨ –ï–©–ï 8 üöÄ", callback_data="start_training")]]
        await edit_or_reply(
            "üéâ –û—Ç–ª–∏—á–Ω–æ! –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã!\n\n–•–æ—á–µ—à—å –µ—â–µ?",
            keyboard
        )
        return

    test_id = test_ids[index]
    test = test_manager.get_test_with_shuffled_options(test_id)

    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ—Ä—è–¥–æ–∫ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
    context.user_data[f'test_{test_id}_options'] = test['options']

    keyboard = []
    for i, option in enumerate(test['options']):
        keyboard.append([InlineKeyboardButton(
            option['text'],
            callback_data=f"answer_{test_id}_{i}"
        )])

    text = (
        f"üìù –¢–µ—Å—Ç {index + 1}/{len(test_ids)}\n\n"
        f"üá¨üáß **{test['word']}**\n\n"
        f"–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥:"
    )

    await edit_or_reply(text, keyboard)
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞

**Callback data:** `answer_{test_id}_{option_index}`

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –†–∞—Å–ø–∞—Ä—Å–∏—Ç—å `callback_data`
2. –ü–æ–ª—É—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏–∑ `context.user_data`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ `TestManager.submit_answer()`
4. –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç (‚úÖ/‚ùå + –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç + —Ä–µ–π—Ç–∏–Ω–≥)
5. –ü–æ–¥–æ–∂–¥–∞—Ç—å 1.5 —Å–µ–∫—É–Ω–¥—ã
6. –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ç–µ—Å—Ç—É

**–ö–æ–¥ (–ø—Å–µ–≤–¥–æ–∫–æ–¥):**
```python
async def answer_callback(update, context):
    query = update.callback_query
    await query.answer()

    # –ü–∞—Ä—Å–∏–º callback_data
    _, test_id, option_index = query.data.split('_')
    test_id = int(test_id)
    option_index = int(option_index)

    # –ü–æ–ª—É—á–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
    options = context.user_data[f'test_{test_id}_options']
    selected = options[option_index]

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç
    result = test_manager.submit_answer(test_id, option_index)

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    if result['is_correct']:
        text = f"‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!\n\n"
    else:
        text = (
            f"‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ\n\n"
            f"–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: **{result['correct_translation']}**\n\n"
        )

    text += f"–†–µ–π—Ç–∏–Ω–≥ —Å–ª–æ–≤–∞: {result['new_rating']}/10\n"
    text += f"–°—Ç–∞—Ç—É—Å: {result['new_status']}"

    await query.edit_message_text(text, parse_mode='Markdown')

    # –ü–∞—É–∑–∞
    await asyncio.sleep(1.5)

    # –°–ª–µ–¥—É—é—â–∏–π —Ç–µ—Å—Ç
    context.user_data['current_test_index'] += 1
    await send_next_test(query, context)
```

### –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

**–ü–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ç–µ—Å—Ç–∞:**
```
üéâ –û—Ç–ª–∏—á–Ω–æ! –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã!

–•–æ—á–µ—à—å –µ—â–µ?

[–ö–Ω–æ–ø–∫–∞: –ù–ê–ß–ê–¢–¨ –ï–©–ï 8 üöÄ]
```

---

## üöÄ –î–µ–ø–ª–æ–π–º–µ–Ω—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (MVP)

**–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:**
```bash
cd /Users/andrewkondakow/Documents/Projects/Wordoorio
source venv/bin/activate
python telegram_bot.py
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –õ–µ–≥–∫–∞—è –æ—Ç–ª–∞–¥–∫–∞
- ‚úÖ –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ë–î

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤–∫–ª—é—á–µ–Ω
- ‚ùå –ù–µ production-ready

### Production –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç (Serverless Container)

**‚ö†Ô∏è –í–ê–ñ–ù–û:** GitHub Actions –£–ñ–ï –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç! (`.github/workflows/deploy.yml`)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
Yandex Serverless Container
‚îú‚îÄ‚îÄ gunicorn (Flask app)         # –ü—Ä–æ—Ü–µ—Å—Å 1 (—Ä–∞–±–æ—Ç–∞–µ—Ç)
‚îî‚îÄ‚îÄ python telegram_bot.py       # –ü—Ä–æ—Ü–µ—Å—Å 2 (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)
    ‚îî‚îÄ‚îÄ wordoorio.db (shared)
```

**GitHub Actions (–∞–∫—Ç—É–∞–ª—å–Ω—ã–π):**
```yaml
# .github/workflows/deploy.yml
- name: Update Serverless Container
  run: |
    yc serverless container revision deploy \
      --container-name wordoorio \
      --image cr.yandex/${{ env.REGISTRY_ID }}/wordoorio-ai:latest \
      --cores 1 \
      --memory 1GB \
      --execution-timeout 180s \
      --service-account-id ${{ env.SERVICE_ACCOUNT_ID }} \
      --environment YANDEX_FOLDER_ID=${{ secrets.YANDEX_FOLDER_ID }} \
      --environment YANDEX_CLOUD_API_KEY=${{ secrets.YANDEX_CLOUD_API_KEY }} \
      --environment YANDEX_DICT_API_KEY=${{ secrets.YANDEX_DICT_API_KEY }} \
      --environment TELEGRAM_BOT_TOKEN=${{ secrets.TELEGRAM_BOT_TOKEN }}  # –î–û–ë–ê–í–ò–¢–¨!
```

**GitHub Secrets (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å):**
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather

**Dockerfile (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π):**
```dockerfile
FROM python:3.9-slim

WORKDIR /app

# –ö–æ–ø–∏—Ä—É–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
COPY requirements.txt .
RUN pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º spaCy –º–æ–¥–µ–ª—å
RUN python -m spacy download en_core_web_sm

# –ö–æ–ø–∏—Ä—É–µ–º –∫–æ–¥
COPY . .

# –ü–æ—Ä—Ç –¥–ª—è Flask
ENV PORT=8080
EXPOSE 8080

# –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
CMD supervisord -c supervisord.conf
```

**supervisord.conf:**
```ini
[supervisord]
nodaemon=true

[program:flask]
command=gunicorn --bind 0.0.0.0:8080 --workers 2 --threads 4 --timeout 180 web_app:app
autostart=true
autorestart=true

[program:telegram_bot]
command=python telegram_bot.py
autostart=true
autorestart=true
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (requirements.txt):**
```
# –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
Flask==2.3.3
gunicorn==21.2.0
spacy==3.7.2
pymorphy2==0.9.1
requests==2.31.0
python-dotenv==1.0.0

# –ù–æ–≤—ã–µ
python-telegram-bot==20.8
supervisor==4.2.5
```

**–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:**

**–ü—Ä–æ–±–ª–µ–º–∞ 1:** Serverless –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –º–æ–≥—É—Ç "–∑–∞—Å—ã–ø–∞—Ç—å"
- **–†–µ—à–µ–Ω–∏–µ:** Keep-alive –º–µ—Ö–∞–Ω–∏–∑–º (–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π self-ping)

**–ü—Ä–æ–±–ª–µ–º–∞ 2:** SQLite –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ
- **–†–µ—à–µ–Ω–∏–µ:** SQLite —Å–ø—Ä–∞–≤–∏—Ç—Å—è (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞)
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL (–≤ –±—É–¥—É—â–µ–º)

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (Yandex Compute VM)

**–ï—Å–ª–∏ Serverless –Ω–µ –ø–æ–¥–æ–π–¥–µ—Ç:**
- –ê—Ä–µ–Ω–¥–æ–≤–∞—Ç—å VM (Ubuntu 22.04)
- –ó–∞–ø—É—Å–∫–∞—Ç—å –æ–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ —á–µ—Ä–µ–∑ systemd
- –°—Ç–æ–∏–º–æ—Å—Ç—å: ~500‚ÇΩ/–º–µ—Å—è—Ü

**systemd —Å–µ—Ä–≤–∏—Å—ã:**
```ini
# /etc/systemd/system/wordoorio-flask.service
[Service]
ExecStart=/path/to/venv/bin/gunicorn web_app:app

# /etc/systemd/system/wordoorio-bot.service
[Service]
ExecStart=/path/to/venv/bin/python telegram_bot.py
```

---

## üìÖ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (1-2 —á–∞—Å–∞)

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è `rating`, `last_rating_change` –≤ `dictionary_words`
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `user_training_state`
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `tests`
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `word_test_statistics`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `database.py` —Å –Ω–æ–≤—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏:
  - `add_rating_fields()`
  - `get_user_training_state(user_id)`
  - `update_training_position(user_id, position)`
  - `insert_test(...)`
  - `delete_test(test_id)`
  - `update_word_statistics(...)`
- [ ] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
python database.py  # –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
sqlite3 wordoorio.db ".schema"  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
```

---

### –≠—Ç–∞–ø 2: TrainingService (2-3 —á–∞—Å–∞)

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `/core/training_service.py`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å `TrainingService`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `select_words_for_training(user_id, count)`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å 8 —à–∞–≥–æ–≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –æ—Ç–±–æ—Ä–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Å—á–µ—Ç—á–∏–∫–∞ –ø–æ–∑–∏—Ü–∏–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases (–Ω–µ—Ç —Å–ª–æ–≤, –º–∞–ª–æ —Å–ª–æ–≤)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```python
# test_training_service.py
from core.training_service import TrainingService

service = TrainingService(db)
words = service.select_words_for_training(user_id=1, count=8)
print(words)
```

---

### –≠—Ç–∞–ø 3: YandexAIClient —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (1 —á–∞—Å)

**–ó–∞–¥–∞—á–∏:**
- [ ] –û—Ç–∫—Ä—ã—Ç—å `/core/yandex_ai_client.py`
- [ ] ~~–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥~~ **–£–ñ–ï –ì–û–¢–û–í –∏–∑ Agent Refactoring:** `generate_test_options(words_with_translations)`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∫ –º–æ–¥–µ–ª–∏ `gpt://b1gcdpfvt5vkfn3o9nm1/yandexgpt/rc`
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```python
# test_yandex_client.py
from core.yandex_ai_client import YandexAIClient

client = YandexAIClient()
result = await client.generate_test_options([
    {"word": "sophisticated", "correct_translation": "—É—Ç–æ–Ω—á—ë–Ω–Ω—ã–π"}
])
print(result)
```

**–í–∞–∂–Ω–æ:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–æ–¥–µ–ª—å –≤ Yandex AI Studio –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º.

---

### –≠—Ç–∞–ø 4: TestManager (2-3 —á–∞—Å–∞)

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `/core/test_manager.py`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å `TestManager`
- [ ] –ú–µ—Ç–æ–¥ `create_tests_batch(user_id, words)`
- [ ] –ú–µ—Ç–æ–¥ `get_test_with_shuffled_options(test_id)`
- [ ] –ú–µ—Ç–æ–¥ `submit_answer(test_id, selected_option_index)`
- [ ] –ú–µ—Ç–æ–¥ `get_pending_tests(user_id)`
- [ ] –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ —Å—Ç–∞—Ç—É—Å–∞
- [ ] –õ–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```python
# test_test_manager.py
from core.test_manager import TestManager

manager = TestManager(db, yandex_client)

# –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç—ã
words = [{"id": 1, "lemma": "sophisticated", ...}]
test_ids = manager.create_tests_batch(user_id=1, words=words)

# –ü–æ–ª—É—á–∞–µ–º —Ç–µ—Å—Ç
test = manager.get_test_with_shuffled_options(test_ids[0])
print(test)

# –û—Ç–≤–µ—á–∞–µ–º
result = manager.submit_answer(test_ids[0], 1)
print(result)
```

---

### –≠—Ç–∞–ø 5: Telegram Bot (3-4 —á–∞—Å–∞)

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `/telegram_bot.py`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `python-telegram-bot` (Application, handlers)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/start`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "–ù–ê–ß–ê–¢–¨"
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —Ç–µ—Å—Ç–æ–≤
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Ç–≤–µ—Ç–æ–≤
- [ ] –õ–æ–≥–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–Ω–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –Ω–µ—Ç —Å–ª–æ–≤)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
python telegram_bot.py
# –í Telegram: –Ω–∞–π—Ç–∏ @wordoorio_bot, –Ω–∞–∂–∞—Ç—å /start
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û—Ç–±–æ—Ä 8 —Å–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –û—Ç–≤–µ—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –†–µ–π—Ç–∏–Ω–≥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –¢–µ—Å—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞

---

### –≠—Ç–∞–ø 6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 —á–∞—Å–∞)

**–ó–∞–¥–∞—á–∏:**
- [ ] End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –æ—Ç–±–æ—Ä–∞ (–≤—Å–µ 8 —à–∞–≥–æ–≤)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤ (new‚Üílearning‚Üílearned)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –ø–æ–∑–∏—Ü–∏–∏
- [ ] –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç (100 —Å–ª–æ–≤, 50 —Ç–µ—Å—Ç–æ–≤)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–∏—Å—Ç–∫–∏ —Ç–µ—Å—Ç–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

**–¢–µ—Å—Ç 1: –ü–µ—Ä–≤—ã–π —Ä–∞–∑ (–Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)**
1. –î–æ–±–∞–≤–∏—Ç—å 10 –Ω–æ–≤—ã—Ö —Å–ª–æ–≤ –≤ —Å–ª–æ–≤–∞—Ä—å
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–ª–∏—Å—å –Ω–æ–≤—ã–µ —Å–ª–æ–≤–∞ (—à–∞–≥–∏ 1, 3, 7)
4. –ü—Ä–æ–π—Ç–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å—Ç–∞—Ç—É—Å—ã –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –Ω–∞ `learning`

**–¢–µ—Å—Ç 2: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (–ø–æ–≤—ã—à–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞)**
1. –ü—Ä–æ–π—Ç–∏ 10 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ –æ–¥–Ω–æ —Å–ª–æ–≤–æ
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ä–µ–π—Ç–∏–Ω–≥ = 10
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å—Ç–∞—Ç—É—Å = `learned`

**–¢–µ—Å—Ç 3: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç (–æ–±–Ω—É–ª–µ–Ω–∏–µ)**
1. –°–ª–æ–≤–æ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º 7
2. –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ä–µ–π—Ç–∏–Ω–≥ = 0
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `last_rating_change` –æ–±–Ω–æ–≤–∏–ª—Å—è

**–¢–µ—Å—Ç 4: –û—Ç–∫–∞—Ç –∏–∑ learned**
1. –°–ª–æ–≤–æ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `learned`
2. –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å—Ç–∞—Ç—É—Å = `learning`

**–¢–µ—Å—Ç 5: –°—á–µ—Ç—á–∏–∫ –ø–æ–∑–∏—Ü–∏–∏**
1. –ó–∞–ø—Ä–æ—Å–∏—Ç—å 8 —Å–ª–æ–≤ (–ø–æ–∑–∏—Ü–∏—è 1 ‚Üí 1)
2. –ó–∞–ø—Ä–æ—Å–∏—Ç—å –µ—â–µ 5 —Å–ª–æ–≤ (–ø–æ–∑–∏—Ü–∏—è 1 ‚Üí 6)
3. –ó–∞–ø—Ä–æ—Å–∏—Ç—å –µ—â–µ 10 —Å–ª–æ–≤ (–ø–æ–∑–∏—Ü–∏—è 6 ‚Üí 8 ‚Üí 1 ‚Üí 4)
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏

---

### –≠—Ç–∞–ø 7: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (1 —á–∞—Å)

**–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å `/docs/features/training-system.md`
- [ ] –û–ø–∏—Å–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- [ ] –û–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –æ—Ç–±–æ—Ä–∞
- [ ] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è
- [ ] Troubleshooting

---

### –≠—Ç–∞–ø 8: –î–µ–ø–ª–æ–π–º–µ–Ω—Ç (2-3 —á–∞—Å–∞)

**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `Dockerfile`
- [ ] –î–æ–±–∞–≤–∏—Ç—å `supervisord.conf`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `requirements.txt`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é —Å–±–æ—Ä–∫—É Docker
- [ ] –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –≤ Yandex Serverless Container
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å keep-alive (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

---

### –û–±—â–µ–µ –≤—Ä–µ–º—è: 14-20 —á–∞—Å–æ–≤

---

## ‚ö†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏

### –†–∏—Å–∫ 1: SQLite –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø

**–ü—Ä–æ–±–ª–µ–º–∞:** Flask –∏ Bot –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —á–∏—Ç–∞—é—Ç/–ø–∏—à—É—Ç –≤ `wordoorio.db`

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
**–í–ª–∏—è–Ω–∏–µ:** –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ë–î, –æ—à–∏–±–∫–∏ –∑–∞–ø–∏—Å–∏

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- SQLite –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø (—Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏)
- –î–ª—è —Ç–µ–∫—É—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
- –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã ‚Üí –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL

**Plan B:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –º–µ–∂–¥—É –±–æ—Ç–æ–º –∏ Flask (–±–æ—Ç –≤—ã–∑—ã–≤–∞–µ—Ç HTTP endpoints)

---

### –†–∏—Å–∫ 2: Yandex AI –º–æ–¥–µ–ª—å –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–∏—à–∫–æ–º –æ—á–µ–≤–∏–¥–Ω—ã–µ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
**–í–ª–∏—è–Ω–∏–µ:** –ü–ª–æ—Ö–æ–π UX, —Ç–µ—Å—Ç—ã —Å–ª–∏—à–∫–æ–º –ª–µ–≥–∫–∏–µ/—Å–ª–æ–∂–Ω—ã–µ

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –¢—â–∞—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ –º–æ–¥–µ–ª–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç AI (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞)
- Fallback: —Ä—É—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (—Å–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤)

**Plan B:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤ + —Å–ª—É—á–∞–π–Ω—ã–µ —Å–ª–æ–≤–∞ –∏–∑ —Å–ª–æ–≤–∞—Ä—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

### –†–∏—Å–∫ 3: Serverless Container "–∑–∞—Å—ã–ø–∞–µ—Ç"

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–∏–æ–¥–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è (–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å Serverless)
**–í–ª–∏—è–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –æ—Ç–≤–µ—Ç—ã, –ø–ª–æ—Ö–æ–π UX

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –ú–µ—Ö–∞–Ω–∏–∑–º keep-alive (–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π self-ping)
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤

**Plan B:** –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Yandex Compute VM (–ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞)

---

### –†–∏—Å–∫ 4: –ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤ –≤ —Å–ª–æ–≤–∞—Ä–µ (> 1000)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–ª–≥–æ—Ä–∏—Ç–º –æ—Ç–±–æ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è (—Å–µ–π—á–∞—Å)
**–í–ª–∏—è–Ω–∏–µ:** –ó–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –ò–Ω–¥–µ–∫—Å—ã –≤ –ë–î (—É–∂–µ –µ—Å—Ç—å)
- LIMIT –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö (–Ω–µ —Å–∫–∞–Ω–∏—Ä—É–µ–º –≤—Å—é —Ç–∞–±–ª–∏—Ü—É)

**Plan B:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤, –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

---

### –†–∏—Å–∫ 5: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∞–ª —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –∏ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –ë–î –æ—Å—Ç–∞—é—Ç—Å—è "–∑–∞–±—ã—Ç—ã–µ" —Ç–µ—Å—Ç—ã

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
**–í–ª–∏—è–Ω–∏–µ:** –ó–∞–º—É—Å–æ—Ä–∏–≤–∞–Ω–∏–µ –ë–î (–Ω–æ –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ)

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤ —Å—Ç–∞—Ä—à–µ 24 —á–∞—Å–æ–≤
- –ü—Ä–∏ –Ω–æ–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "–£ –≤–∞—Å 3 –Ω–µ—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?"

**Plan B:** –£–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### MVP –≥–æ—Ç–æ–≤, –∫–æ–≥–¥–∞:

- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å "–ù–ê–ß–ê–¢–¨" –≤ –±–æ—Ç–µ
- ‚úÖ –û—Ç–±–∏—Ä–∞—é—Ç—Å—è 8 —Å–ª–æ–≤ –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É
- ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ç–µ—Å—Ç—ã —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç AI
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤—Å–µ 8 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –†–µ–π—Ç–∏–Ω–≥ –∏ —Å—Ç–∞—Ç—É—Å—ã —Å–ª–æ–≤ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –¢–µ—Å—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞
- ‚úÖ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞

### Production ready, –∫–æ–≥–¥–∞:

- ‚úÖ MVP –≥–æ—Ç–æ–≤
- ‚úÖ –ë–æ—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Yandex Cloud
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –±–µ–∑ –ø–∞–¥–µ–Ω–∏–π
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω—ã –≤—Å–µ edge cases
- ‚úÖ –ö–æ–¥ –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ (–º–∏–Ω–∏–º—É–º smoke tests)

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ MVP

### –§–∞–∑–∞ 2 (–±—É–¥—É—â–µ–µ):

1. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏**
   - –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç—ã –º–æ–∂–Ω–æ –Ω–∞ —Å–∞–π—Ç–µ wordoorio.ru
   - API endpoints –¥–ª—è —Ç–µ—Å—Ç–æ–≤

2. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
   - –î–∞—à–±–æ—Ä–¥ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
   - "–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ" —Å–ª–æ–≤–∞ (–º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫)
   - –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏**
   - –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–ª–æ–≤ (5/10/15/20)
   - –í—ã–±–æ—Ä —Ç–∏–ø–∞ —Å–ª–æ–≤ (—Ç–æ–ª—å–∫–æ new, —Ç–æ–ª—å–∫–æ learning, –º–∏–∫—Å)
   - –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è (spaced repetition)

4. **–£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º**
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ—Ç–±–æ—Ä–∞

5. **–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL**
   - –î–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏

---

## üìù –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ

**–ü—Ä–æ—à—É —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å:**

1. ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
2. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î (4 —Ç–∞–±–ª–∏—Ü—ã + –Ω–æ–≤—ã–µ –ø–æ–ª—è)
3. ‚úÖ –ê–ª–≥–æ—Ä–∏—Ç–º –æ—Ç–±–æ—Ä–∞ —Å–ª–æ–≤ (8 —à–∞–≥–æ–≤)
4. ‚úÖ –°–∏—Å—Ç–µ–º—É —Ä–µ–π—Ç–∏–Ω–≥–∞ (0-10, –æ–±–Ω—É–ª–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ)
5. ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥—ã —Å—Ç–∞—Ç—É—Å–æ–≤ (new‚Üílearning‚Üílearned)
6. ‚úÖ –§–æ—Ä–º–∞—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Yandex AI
7. ‚úÖ UX –±–æ—Ç–∞ (inline –∫–Ω–æ–ø–∫–∏, –±—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥)
8. ‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—é –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞ (–ª–æ–∫–∞–ª—å–Ω–æ ‚Üí Serverless)
9. ‚úÖ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (8 —ç—Ç–∞–ø–æ–≤, 14-20 —á–∞—Å–æ–≤)

**–ï—Å–ª–∏ –≤—Å–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ ‚Üí –Ω–∞—á–∏–Ω–∞–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é!**

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (v3.0)

**19 –¥–µ–∫–∞–±—Ä—è 2024** - –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å —É—á–µ—Ç–æ–º –æ–ø—ã—Ç–∞ —Ä–∞–±–æ—Ç—ã:

‚úÖ **Yandex AI Studio:**
- –û–±–Ω–æ–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç API: Assistant API REST (`https://rest-assistant.api.cloud.yandex.net/v1/responses`)
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: `Api-Key` –≤–º–µ—Å—Ç–æ `Bearer IAM`
- Timeout: 120s –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
- –ú–µ—Ç–æ–¥ `generate_test_options()` –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å (–µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)

‚úÖ **–î–µ–ø–ª–æ–π–º–µ–Ω—Ç:**
- GitHub Actions —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `--environment` —Ñ–ª–∞–≥–∏
- –î–æ–±–∞–≤–ª–µ–Ω–æ: `TELEGRAM_BOT_TOKEN` –≤ secrets
- Supervisord –¥–ª—è –¥–≤—É—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (Flask + Bot)

‚úÖ **–°—Ç–∞—Ç—É—Å:**
- Agent Refactoring –∑–∞–≤–µ—Ä—à–µ–Ω
- REST API –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ì–æ—Ç–æ–≤ –∫ –Ω–∞—á–∞–ª—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Training System

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 10 –¥–µ–∫–∞–±—Ä—è 2024
**–î–∞—Ç–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏:** 19 –¥–µ–∫–∞–±—Ä—è 2024
**–ê–≤—Ç–æ—Ä:** Claude Code + Andrew Kondakov
**–ö–æ–Ω—Ç–∞–∫—Ç:** @wordoorio_bot
